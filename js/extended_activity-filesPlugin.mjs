import{p as lt,g as Yn,a as Kn}from"./index-BCo2ioUA.chunk.mjs";import{U as Qn,s as Jn,c as tr}from"./index-BOfflqaq.chunk.mjs";import{V as vt,H as St}from"./translation-CD_FiYBO-DY1a3JEr.chunk.mjs";import{i as wn,g as er}from"./public-D_zLRUzB.chunk.mjs";import{a as nr,s as rr}from"./index-_4HphU9w-A-4eSYv1.chunk.mjs";import"./_commonjsHelpers-CqkleIqs.chunk.mjs";var Lt,Te;function sr(){if(Te)return Lt;Te=1;function n(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}function t(l,u){for(var f="",a=0,i=-1,r=0,o,c=0;c<=l.length;++c){if(c<l.length)o=l.charCodeAt(c);else{if(o===47)break;o=47}if(o===47){if(!(i===c-1||r===1))if(i!==c-1&&r===2){if(f.length<2||a!==2||f.charCodeAt(f.length-1)!==46||f.charCodeAt(f.length-2)!==46){if(f.length>2){var h=f.lastIndexOf("/");if(h!==f.length-1){h===-1?(f="",a=0):(f=f.slice(0,h),a=f.length-1-f.lastIndexOf("/")),i=c,r=0;continue}}else if(f.length===2||f.length===1){f="",a=0,i=c,r=0;continue}}u&&(f.length>0?f+="/..":f="..",a=2)}else f.length>0?f+="/"+l.slice(i+1,c):f=l.slice(i+1,c),a=c-i-1;i=c,r=0}else o===46&&r!==-1?++r:r=-1}return f}function e(l,u){var f=u.dir||u.root,a=u.base||(u.name||"")+(u.ext||"");return f?f===u.root?f+a:f+l+a:a}var s={resolve:function(){for(var l="",u=!1,f,a=arguments.length-1;a>=-1&&!u;a--){var i;a>=0?i=arguments[a]:(f===void 0&&(f=lt.cwd()),i=f),n(i),i.length!==0&&(l=i+"/"+l,u=i.charCodeAt(0)===47)}return l=t(l,!u),u?l.length>0?"/"+l:"/":l.length>0?l:"."},normalize:function(l){if(n(l),l.length===0)return".";var u=l.charCodeAt(0)===47,f=l.charCodeAt(l.length-1)===47;return l=t(l,!u),l.length===0&&!u&&(l="."),l.length>0&&f&&(l+="/"),u?"/"+l:l},isAbsolute:function(l){return n(l),l.length>0&&l.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var l,u=0;u<arguments.length;++u){var f=arguments[u];n(f),f.length>0&&(l===void 0?l=f:l+="/"+f)}return l===void 0?".":s.normalize(l)},relative:function(l,u){if(n(l),n(u),l===u||(l=s.resolve(l),u=s.resolve(u),l===u))return"";for(var f=1;f<l.length&&l.charCodeAt(f)===47;++f);for(var a=l.length,i=a-f,r=1;r<u.length&&u.charCodeAt(r)===47;++r);for(var o=u.length,c=o-r,h=i<c?i:c,d=-1,g=0;g<=h;++g){if(g===h){if(c>h){if(u.charCodeAt(r+g)===47)return u.slice(r+g+1);if(g===0)return u.slice(r+g)}else i>h&&(l.charCodeAt(f+g)===47?d=g:g===0&&(d=0));break}var m=l.charCodeAt(f+g),x=u.charCodeAt(r+g);if(m!==x)break;m===47&&(d=g)}var y="";for(g=f+d+1;g<=a;++g)(g===a||l.charCodeAt(g)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+u.slice(r+d):(r+=d,u.charCodeAt(r)===47&&++r,u.slice(r))},_makeLong:function(l){return l},dirname:function(l){if(n(l),l.length===0)return".";for(var u=l.charCodeAt(0),f=u===47,a=-1,i=!0,r=l.length-1;r>=1;--r)if(u=l.charCodeAt(r),u===47){if(!i){a=r;break}}else i=!1;return a===-1?f?"/":".":f&&a===1?"//":l.slice(0,a)},basename:function(l,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');n(l);var f=0,a=-1,i=!0,r;if(u!==void 0&&u.length>0&&u.length<=l.length){if(u.length===l.length&&u===l)return"";var o=u.length-1,c=-1;for(r=l.length-1;r>=0;--r){var h=l.charCodeAt(r);if(h===47){if(!i){f=r+1;break}}else c===-1&&(i=!1,c=r+1),o>=0&&(h===u.charCodeAt(o)?--o===-1&&(a=r):(o=-1,a=c))}return f===a?a=c:a===-1&&(a=l.length),l.slice(f,a)}else{for(r=l.length-1;r>=0;--r)if(l.charCodeAt(r)===47){if(!i){f=r+1;break}}else a===-1&&(i=!1,a=r+1);return a===-1?"":l.slice(f,a)}},extname:function(l){n(l);for(var u=-1,f=0,a=-1,i=!0,r=0,o=l.length-1;o>=0;--o){var c=l.charCodeAt(o);if(c===47){if(!i){f=o+1;break}continue}a===-1&&(i=!1,a=o+1),c===46?u===-1?u=o:r!==1&&(r=1):u!==-1&&(r=-1)}return u===-1||a===-1||r===0||r===1&&u===a-1&&u===f+1?"":l.slice(u,a)},format:function(l){if(l===null||typeof l!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof l);return e("/",l)},parse:function(l){n(l);var u={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return u;var f=l.charCodeAt(0),a=f===47,i;a?(u.root="/",i=1):i=0;for(var r=-1,o=0,c=-1,h=!0,d=l.length-1,g=0;d>=i;--d){if(f=l.charCodeAt(d),f===47){if(!h){o=d+1;break}continue}c===-1&&(h=!1,c=d+1),f===46?r===-1?r=d:g!==1&&(g=1):r!==-1&&(g=-1)}return r===-1||c===-1||g===0||g===1&&r===c-1&&r===o+1?c!==-1&&(o===0&&a?u.base=u.name=l.slice(1,c):u.base=u.name=l.slice(o,c)):(o===0&&a?(u.name=l.slice(1,r),u.base=l.slice(1,c)):(u.name=l.slice(o,r),u.base=l.slice(o,c)),u.ext=l.slice(r,c)),o>0?u.dir=l.slice(0,o-1):a&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};return s.posix=s,Lt=s,Lt}sr();function rt(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Ie(n,t,e){ir(n,t),t.set(n,e)}function ir(n,t){if(t.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function X(n,t){var e=Nn(n,t,"get");return or(n,e)}function or(n,t){return t.get?t.get.call(n):t.value}function Pe(n,t,e){var s=Nn(n,t,"set");return ar(n,s,e),e}function Nn(n,t,e){if(!t.has(n))throw new TypeError("attempted to "+e+" private field on non-instance");return t.get(n)}function ar(n,t,e){if(t.set)t.set.call(n,e);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=e}}var ur=typeof Symbol<"u"?Symbol.toStringTag:"@@toStringTag",W=new WeakMap,ht=new WeakMap;class Ct{constructor(t){var{executor:e=()=>{},internals:s=de(),promise:l=new Promise((u,f)=>e(u,f,a=>{s.onCancelList.push(a)}))}=t;Ie(this,W,{writable:!0,value:void 0}),Ie(this,ht,{writable:!0,value:void 0}),rt(this,ur,"CancelablePromise"),this.cancel=this.cancel.bind(this),Pe(this,W,s),Pe(this,ht,l||new Promise((u,f)=>e(u,f,a=>{s.onCancelList.push(a)})))}then(t,e){return wt(X(this,ht).then(bt(t,X(this,W)),bt(e,X(this,W))),X(this,W))}catch(t){return wt(X(this,ht).catch(bt(t,X(this,W))),X(this,W))}finally(t,e){return e&&X(this,W).onCancelList.push(t),wt(X(this,ht).finally(bt(()=>{if(t)return e&&(X(this,W).onCancelList=X(this,W).onCancelList.filter(s=>s!==t)),t()},X(this,W))),X(this,W))}cancel(){X(this,W).isCanceled=!0;var t=X(this,W).onCancelList;X(this,W).onCancelList=[];for(var e of t)if(typeof e=="function")try{e()}catch(s){console.error(s)}}isCanceled(){return X(this,W).isCanceled===!0}}class st extends Ct{constructor(t){super({executor:t})}}rt(st,"all",function(n){return yt(n,Promise.all(n))}),rt(st,"allSettled",function(n){return yt(n,Promise.allSettled(n))}),rt(st,"any",function(n){return yt(n,Promise.any(n))}),rt(st,"race",function(n){return yt(n,Promise.race(n))}),rt(st,"resolve",function(n){return $e(Promise.resolve(n))}),rt(st,"reject",function(n){return $e(Promise.reject(n))}),rt(st,"isCancelable",ge);function $e(n){return wt(n,de())}function ge(n){return n instanceof st||n instanceof Ct}function bt(n,t){if(n)return e=>{if(!t.isCanceled){var s=n(e);return ge(s)&&t.onCancelList.push(s.cancel),s}return e}}function wt(n,t){return new Ct({internals:t,promise:n})}function yt(n,t){var e=de();return e.onCancelList.push(()=>{for(var s of n)ge(s)&&s.cancel()}),new Ct({internals:e,promise:t})}function de(){return{isCanceled:!1,onCancelList:[]}}var jt={},lr={2:n=>{function t(l,u,f){l instanceof RegExp&&(l=e(l,f)),u instanceof RegExp&&(u=e(u,f));var a=s(l,u,f);return a&&{start:a[0],end:a[1],pre:f.slice(0,a[0]),body:f.slice(a[0]+l.length,a[1]),post:f.slice(a[1]+u.length)}}function e(l,u){var f=u.match(l);return f?f[0]:null}function s(l,u,f){var a,i,r,o,c,h=f.indexOf(l),d=f.indexOf(u,h+1),g=h;if(h>=0&&d>0){for(a=[],r=f.length;g>=0&&!c;)g==h?(a.push(g),h=f.indexOf(l,g+1)):a.length==1?c=[a.pop(),d]:((i=a.pop())<r&&(r=i,o=d),d=f.indexOf(u,g+1)),g=h<d&&h>=0?h:d;a.length&&(c=[r,o])}return c}n.exports=t,t.range=s},101:function(n,t,e){var s;n=e.nmd(n),function(l){var u=(n&&n.exports,typeof vt=="object"&&vt);u.global!==u&&u.window;var f=function(c){this.message=c};(f.prototype=new Error).name="InvalidCharacterError";var a=function(c){throw new f(c)},i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=/[\t\n\f\r ]/g,o={encode:function(c){c=String(c),/[^\0-\xFF]/.test(c)&&a("The string to be encoded contains characters outside of the Latin1 range.");for(var h,d,g,m,x=c.length%3,y="",p=-1,b=c.length-x;++p<b;)h=c.charCodeAt(p)<<16,d=c.charCodeAt(++p)<<8,g=c.charCodeAt(++p),y+=i.charAt((m=h+d+g)>>18&63)+i.charAt(m>>12&63)+i.charAt(m>>6&63)+i.charAt(63&m);return x==2?(h=c.charCodeAt(p)<<8,d=c.charCodeAt(++p),y+=i.charAt((m=h+d)>>10)+i.charAt(m>>4&63)+i.charAt(m<<2&63)+"="):x==1&&(m=c.charCodeAt(p),y+=i.charAt(m>>2)+i.charAt(m<<4&63)+"=="),y},decode:function(c){var h=(c=String(c).replace(r,"")).length;h%4==0&&(h=(c=c.replace(/==?$/,"")).length),(h%4==1||/[^+a-zA-Z0-9/]/.test(c))&&a("Invalid character: the string to be decoded is not correctly encoded.");for(var d,g,m=0,x="",y=-1;++y<h;)g=i.indexOf(c.charAt(y)),d=m%4?64*d+g:g,m++%4&&(x+=String.fromCharCode(255&d>>(-2*m&6)));return x},version:"1.0.0"};(s=function(){return o}.call(t,e,t,n))===void 0||(n.exports=s)}()},172:(n,t)=>{t.d=function(e){if(!e)return 0;for(var s=(e=e.toString()).length,l=e.length;l--;){var u=e.charCodeAt(l);56320<=u&&u<=57343&&l--,127<u&&u<=2047?s++:2047<u&&u<=65535&&(s+=2)}return s}},526:n=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var s=[],l=0;l<e.length;l++)s.push(255&e.charCodeAt(l));return s},bytesToString:function(e){for(var s=[],l=0;l<e.length;l++)s.push(String.fromCharCode(e[l]));return s.join("")}}};n.exports=t},298:n=>{var t,e;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(s,l){return s<<l|s>>>32-l},rotr:function(s,l){return s<<32-l|s>>>l},endian:function(s){if(s.constructor==Number)return 16711935&e.rotl(s,8)|4278255360&e.rotl(s,24);for(var l=0;l<s.length;l++)s[l]=e.endian(s[l]);return s},randomBytes:function(s){for(var l=[];s>0;s--)l.push(Math.floor(256*Math.random()));return l},bytesToWords:function(s){for(var l=[],u=0,f=0;u<s.length;u++,f+=8)l[f>>>5]|=s[u]<<24-f%32;return l},wordsToBytes:function(s){for(var l=[],u=0;u<32*s.length;u+=8)l.push(s[u>>>5]>>>24-u%32&255);return l},bytesToHex:function(s){for(var l=[],u=0;u<s.length;u++)l.push((s[u]>>>4).toString(16)),l.push((15&s[u]).toString(16));return l.join("")},hexToBytes:function(s){for(var l=[],u=0;u<s.length;u+=2)l.push(parseInt(s.substr(u,2),16));return l},bytesToBase64:function(s){for(var l=[],u=0;u<s.length;u+=3)for(var f=s[u]<<16|s[u+1]<<8|s[u+2],a=0;a<4;a++)8*u+6*a<=8*s.length?l.push(t.charAt(f>>>6*(3-a)&63)):l.push("=");return l.join("")},base64ToBytes:function(s){s=s.replace(/[^A-Z0-9+\/]/gi,"");for(var l=[],u=0,f=0;u<s.length;f=++u%4)f!=0&&l.push((t.indexOf(s.charAt(u-1))&Math.pow(2,-2*f+8)-1)<<2*f|t.indexOf(s.charAt(u))>>>6-2*f);return l}},n.exports=e},635:(n,t,e)=>{const s=e(31),l=e(338),u=e(221);n.exports={XMLParser:l,XMLValidator:s,XMLBuilder:u}},118:n=>{n.exports=function(t){return typeof t=="function"?t:Array.isArray(t)?e=>{for(const s of t)if(typeof s=="string"&&e===s||s instanceof RegExp&&s.test(e))return!0}:()=>!1}},705:(n,t)=>{const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s="["+e+"]["+e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",l=new RegExp("^"+s+"$");t.isExist=function(u){return u!==void 0},t.isEmptyObject=function(u){return Object.keys(u).length===0},t.merge=function(u,f,a){if(f){const i=Object.keys(f),r=i.length;for(let o=0;o<r;o++)u[i[o]]=a==="strict"?[f[i[o]]]:f[i[o]]}},t.getValue=function(u){return t.isExist(u)?u:""},t.isName=function(u){return l.exec(u)!=null},t.getAllMatches=function(u,f){const a=[];let i=f.exec(u);for(;i;){const r=[];r.startIndex=f.lastIndex-i[0].length;const o=i.length;for(let c=0;c<o;c++)r.push(i[c]);a.push(r),i=f.exec(u)}return a},t.nameRegexp=s},31:(n,t,e)=>{const s=e(705),l={allowBooleanAttributes:!1,unpairedTags:[]};function u(p){return p===" "||p==="	"||p===`
`||p==="\r"}function f(p,b){const A=b;for(;b<p.length;b++)if(!(p[b]!="?"&&p[b]!=" ")){const E=p.substr(A,b-A);if(b>5&&E==="xml")return g("InvalidXml","XML declaration allowed only at the start of the document.",x(p,b));if(p[b]=="?"&&p[b+1]==">"){b++;break}}return b}function a(p,b){if(p.length>b+5&&p[b+1]==="-"&&p[b+2]==="-"){for(b+=3;b<p.length;b++)if(p[b]==="-"&&p[b+1]==="-"&&p[b+2]===">"){b+=2;break}}else if(p.length>b+8&&p[b+1]==="D"&&p[b+2]==="O"&&p[b+3]==="C"&&p[b+4]==="T"&&p[b+5]==="Y"&&p[b+6]==="P"&&p[b+7]==="E"){let A=1;for(b+=8;b<p.length;b++)if(p[b]==="<")A++;else if(p[b]===">"&&(A--,A===0))break}else if(p.length>b+9&&p[b+1]==="["&&p[b+2]==="C"&&p[b+3]==="D"&&p[b+4]==="A"&&p[b+5]==="T"&&p[b+6]==="A"&&p[b+7]==="["){for(b+=8;b<p.length;b++)if(p[b]==="]"&&p[b+1]==="]"&&p[b+2]===">"){b+=2;break}}return b}t.validate=function(p,b){b=Object.assign({},l,b);const A=[];let E=!1,v=!1;p[0]==="\uFEFF"&&(p=p.substr(1));for(let w=0;w<p.length;w++)if(p[w]==="<"&&p[w+1]==="?"){if(w+=2,w=f(p,w),w.err)return w}else{if(p[w]!=="<"){if(u(p[w]))continue;return g("InvalidChar","char '"+p[w]+"' is not expected.",x(p,w))}{let O=w;if(w++,p[w]==="!"){w=a(p,w);continue}{let I=!1;p[w]==="/"&&(I=!0,w++);let P="";for(;w<p.length&&p[w]!==">"&&p[w]!==" "&&p[w]!=="	"&&p[w]!==`
`&&p[w]!=="\r";w++)P+=p[w];if(P=P.trim(),P[P.length-1]==="/"&&(P=P.substring(0,P.length-1),w--),N=P,!s.isName(N)){let C;return C=P.trim().length===0?"Invalid space after '<'.":"Tag '"+P+"' is an invalid name.",g("InvalidTag",C,x(p,w))}const $=o(p,w);if($===!1)return g("InvalidAttr","Attributes for '"+P+"' have open quote.",x(p,w));let T=$.value;if(w=$.index,T[T.length-1]==="/"){const C=w-T.length;T=T.substring(0,T.length-1);const R=h(T,b);if(R!==!0)return g(R.err.code,R.err.msg,x(p,C+R.err.line));E=!0}else if(I){if(!$.tagClosed)return g("InvalidTag","Closing tag '"+P+"' doesn't have proper closing.",x(p,w));if(T.trim().length>0)return g("InvalidTag","Closing tag '"+P+"' can't have attributes or invalid starting.",x(p,O));if(A.length===0)return g("InvalidTag","Closing tag '"+P+"' has not been opened.",x(p,O));{const C=A.pop();if(P!==C.tagName){let R=x(p,C.tagStartPos);return g("InvalidTag","Expected closing tag '"+C.tagName+"' (opened in line "+R.line+", col "+R.col+") instead of closing tag '"+P+"'.",x(p,O))}A.length==0&&(v=!0)}}else{const C=h(T,b);if(C!==!0)return g(C.err.code,C.err.msg,x(p,w-T.length+C.err.line));if(v===!0)return g("InvalidXml","Multiple possible root nodes found.",x(p,w));b.unpairedTags.indexOf(P)!==-1||A.push({tagName:P,tagStartPos:O}),E=!0}for(w++;w<p.length;w++)if(p[w]==="<"){if(p[w+1]==="!"){w++,w=a(p,w);continue}if(p[w+1]!=="?")break;if(w=f(p,++w),w.err)return w}else if(p[w]==="&"){const C=d(p,w);if(C==-1)return g("InvalidChar","char '&' is not expected.",x(p,w));w=C}else if(v===!0&&!u(p[w]))return g("InvalidXml","Extra text at the end",x(p,w));p[w]==="<"&&w--}}}var N;return E?A.length==1?g("InvalidTag","Unclosed tag '"+A[0].tagName+"'.",x(p,A[0].tagStartPos)):!(A.length>0)||g("InvalidXml","Invalid '"+JSON.stringify(A.map(w=>w.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):g("InvalidXml","Start tag expected.",1)};const i='"',r="'";function o(p,b){let A="",E="",v=!1;for(;b<p.length;b++){if(p[b]===i||p[b]===r)E===""?E=p[b]:E!==p[b]||(E="");else if(p[b]===">"&&E===""){v=!0;break}A+=p[b]}return E===""&&{value:A,index:b,tagClosed:v}}const c=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function h(p,b){const A=s.getAllMatches(p,c),E={};for(let v=0;v<A.length;v++){if(A[v][1].length===0)return g("InvalidAttr","Attribute '"+A[v][2]+"' has no space in starting.",y(A[v]));if(A[v][3]!==void 0&&A[v][4]===void 0)return g("InvalidAttr","Attribute '"+A[v][2]+"' is without value.",y(A[v]));if(A[v][3]===void 0&&!b.allowBooleanAttributes)return g("InvalidAttr","boolean attribute '"+A[v][2]+"' is not allowed.",y(A[v]));const N=A[v][2];if(!m(N))return g("InvalidAttr","Attribute '"+N+"' is an invalid name.",y(A[v]));if(E.hasOwnProperty(N))return g("InvalidAttr","Attribute '"+N+"' is repeated.",y(A[v]));E[N]=1}return!0}function d(p,b){if(p[++b]===";")return-1;if(p[b]==="#")return function(E,v){let N=/\d/;for(E[v]==="x"&&(v++,N=/[\da-fA-F]/);v<E.length;v++){if(E[v]===";")return v;if(!E[v].match(N))break}return-1}(p,++b);let A=0;for(;b<p.length;b++,A++)if(!(p[b].match(/\w/)&&A<20)){if(p[b]===";")break;return-1}return b}function g(p,b,A){return{err:{code:p,msg:b,line:A.line||A,col:A.col}}}function m(p){return s.isName(p)}function x(p,b){const A=p.substring(0,b).split(/\r?\n/);return{line:A.length,col:A[A.length-1].length+1}}function y(p){return p.startIndex+p[1].length}},221:(n,t,e)=>{const s=e(87),l=e(118),u={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(o,c){return c},attributeValueProcessor:function(o,c){return c},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function f(o){this.options=Object.assign({},u,o),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=l(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=r),this.processTextOrObjNode=a,this.options.format?(this.indentate=i,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function a(o,c,h,d){const g=this.j2x(o,h+1,d.concat(c));return o[this.options.textNodeName]!==void 0&&Object.keys(o).length===1?this.buildTextValNode(o[this.options.textNodeName],c,g.attrStr,h):this.buildObjectNode(g.val,c,g.attrStr,h)}function i(o){return this.options.indentBy.repeat(o)}function r(o){return!(!o.startsWith(this.options.attributeNamePrefix)||o===this.options.textNodeName)&&o.substr(this.attrPrefixLen)}f.prototype.build=function(o){return this.options.preserveOrder?s(o,this.options):(Array.isArray(o)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(o={[this.options.arrayNodeName]:o}),this.j2x(o,0,[]).val)},f.prototype.j2x=function(o,c,h){let d="",g="";const m=h.join(".");for(let x in o)if(Object.prototype.hasOwnProperty.call(o,x))if(o[x]===void 0)this.isAttribute(x)&&(g+="");else if(o[x]===null)this.isAttribute(x)?g+="":x[0]==="?"?g+=this.indentate(c)+"<"+x+"?"+this.tagEndChar:g+=this.indentate(c)+"<"+x+"/"+this.tagEndChar;else if(o[x]instanceof Date)g+=this.buildTextValNode(o[x],x,"",c);else if(typeof o[x]!="object"){const y=this.isAttribute(x);if(y&&!this.ignoreAttributesFn(y,m))d+=this.buildAttrPairStr(y,""+o[x]);else if(!y)if(x===this.options.textNodeName){let p=this.options.tagValueProcessor(x,""+o[x]);g+=this.replaceEntitiesValue(p)}else g+=this.buildTextValNode(o[x],x,"",c)}else if(Array.isArray(o[x])){const y=o[x].length;let p="",b="";for(let A=0;A<y;A++){const E=o[x][A];if(E!==void 0)if(E===null)x[0]==="?"?g+=this.indentate(c)+"<"+x+"?"+this.tagEndChar:g+=this.indentate(c)+"<"+x+"/"+this.tagEndChar;else if(typeof E=="object")if(this.options.oneListGroup){const v=this.j2x(E,c+1,h.concat(x));p+=v.val,this.options.attributesGroupName&&E.hasOwnProperty(this.options.attributesGroupName)&&(b+=v.attrStr)}else p+=this.processTextOrObjNode(E,x,c,h);else if(this.options.oneListGroup){let v=this.options.tagValueProcessor(x,E);v=this.replaceEntitiesValue(v),p+=v}else p+=this.buildTextValNode(E,x,"",c)}this.options.oneListGroup&&(p=this.buildObjectNode(p,x,b,c)),g+=p}else if(this.options.attributesGroupName&&x===this.options.attributesGroupName){const y=Object.keys(o[x]),p=y.length;for(let b=0;b<p;b++)d+=this.buildAttrPairStr(y[b],""+o[x][y[b]])}else g+=this.processTextOrObjNode(o[x],x,c,h);return{attrStr:d,val:g}},f.prototype.buildAttrPairStr=function(o,c){return c=this.options.attributeValueProcessor(o,""+c),c=this.replaceEntitiesValue(c),this.options.suppressBooleanAttributes&&c==="true"?" "+o:" "+o+'="'+c+'"'},f.prototype.buildObjectNode=function(o,c,h,d){if(o==="")return c[0]==="?"?this.indentate(d)+"<"+c+h+"?"+this.tagEndChar:this.indentate(d)+"<"+c+h+this.closeTag(c)+this.tagEndChar;{let g="</"+c+this.tagEndChar,m="";return c[0]==="?"&&(m="?",g=""),!h&&h!==""||o.indexOf("<")!==-1?this.options.commentPropName!==!1&&c===this.options.commentPropName&&m.length===0?this.indentate(d)+`<!--${o}-->`+this.newLine:this.indentate(d)+"<"+c+h+m+this.tagEndChar+o+this.indentate(d)+g:this.indentate(d)+"<"+c+h+m+">"+o+g}},f.prototype.closeTag=function(o){let c="";return this.options.unpairedTags.indexOf(o)!==-1?this.options.suppressUnpairedNode||(c="/"):c=this.options.suppressEmptyNode?"/":`></${o}`,c},f.prototype.buildTextValNode=function(o,c,h,d){if(this.options.cdataPropName!==!1&&c===this.options.cdataPropName)return this.indentate(d)+`<![CDATA[${o}]]>`+this.newLine;if(this.options.commentPropName!==!1&&c===this.options.commentPropName)return this.indentate(d)+`<!--${o}-->`+this.newLine;if(c[0]==="?")return this.indentate(d)+"<"+c+h+"?"+this.tagEndChar;{let g=this.options.tagValueProcessor(c,o);return g=this.replaceEntitiesValue(g),g===""?this.indentate(d)+"<"+c+h+this.closeTag(c)+this.tagEndChar:this.indentate(d)+"<"+c+h+">"+g+"</"+c+this.tagEndChar}},f.prototype.replaceEntitiesValue=function(o){if(o&&o.length>0&&this.options.processEntities)for(let c=0;c<this.options.entities.length;c++){const h=this.options.entities[c];o=o.replace(h.regex,h.val)}return o},n.exports=f},87:n=>{function t(f,a,i,r){let o="",c=!1;for(let h=0;h<f.length;h++){const d=f[h],g=e(d);if(g===void 0)continue;let m="";if(m=i.length===0?g:`${i}.${g}`,g===a.textNodeName){let b=d[g];l(m,a)||(b=a.tagValueProcessor(g,b),b=u(b,a)),c&&(o+=r),o+=b,c=!1;continue}if(g===a.cdataPropName){c&&(o+=r),o+=`<![CDATA[${d[g][0][a.textNodeName]}]]>`,c=!1;continue}if(g===a.commentPropName){o+=r+`<!--${d[g][0][a.textNodeName]}-->`,c=!0;continue}if(g[0]==="?"){const b=s(d[":@"],a),A=g==="?xml"?"":r;let E=d[g][0][a.textNodeName];E=E.length!==0?" "+E:"",o+=A+`<${g}${E}${b}?>`,c=!0;continue}let x=r;x!==""&&(x+=a.indentBy);const y=r+`<${g}${s(d[":@"],a)}`,p=t(d[g],a,m,x);a.unpairedTags.indexOf(g)!==-1?a.suppressUnpairedNode?o+=y+">":o+=y+"/>":p&&p.length!==0||!a.suppressEmptyNode?p&&p.endsWith(">")?o+=y+`>${p}${r}</${g}>`:(o+=y+">",p&&r!==""&&(p.includes("/>")||p.includes("</"))?o+=r+a.indentBy+p+r:o+=p,o+=`</${g}>`):o+=y+"/>",c=!0}return o}function e(f){const a=Object.keys(f);for(let i=0;i<a.length;i++){const r=a[i];if(f.hasOwnProperty(r)&&r!==":@")return r}}function s(f,a){let i="";if(f&&!a.ignoreAttributes)for(let r in f){if(!f.hasOwnProperty(r))continue;let o=a.attributeValueProcessor(r,f[r]);o=u(o,a),o===!0&&a.suppressBooleanAttributes?i+=` ${r.substr(a.attributeNamePrefix.length)}`:i+=` ${r.substr(a.attributeNamePrefix.length)}="${o}"`}return i}function l(f,a){let i=(f=f.substr(0,f.length-a.textNodeName.length-1)).substr(f.lastIndexOf(".")+1);for(let r in a.stopNodes)if(a.stopNodes[r]===f||a.stopNodes[r]==="*."+i)return!0;return!1}function u(f,a){if(f&&f.length>0&&a.processEntities)for(let i=0;i<a.entities.length;i++){const r=a.entities[i];f=f.replace(r.regex,r.val)}return f}n.exports=function(f,a){let i="";return a.format&&a.indentBy.length>0&&(i=`
`),t(f,a,"",i)}},193:(n,t,e)=>{const s=e(705);function l(c,h){let d="";for(;h<c.length&&c[h]!=="'"&&c[h]!=='"';h++)d+=c[h];if(d=d.trim(),d.indexOf(" ")!==-1)throw new Error("External entites are not supported");const g=c[h++];let m="";for(;h<c.length&&c[h]!==g;h++)m+=c[h];return[d,m,h]}function u(c,h){return c[h+1]==="!"&&c[h+2]==="-"&&c[h+3]==="-"}function f(c,h){return c[h+1]==="!"&&c[h+2]==="E"&&c[h+3]==="N"&&c[h+4]==="T"&&c[h+5]==="I"&&c[h+6]==="T"&&c[h+7]==="Y"}function a(c,h){return c[h+1]==="!"&&c[h+2]==="E"&&c[h+3]==="L"&&c[h+4]==="E"&&c[h+5]==="M"&&c[h+6]==="E"&&c[h+7]==="N"&&c[h+8]==="T"}function i(c,h){return c[h+1]==="!"&&c[h+2]==="A"&&c[h+3]==="T"&&c[h+4]==="T"&&c[h+5]==="L"&&c[h+6]==="I"&&c[h+7]==="S"&&c[h+8]==="T"}function r(c,h){return c[h+1]==="!"&&c[h+2]==="N"&&c[h+3]==="O"&&c[h+4]==="T"&&c[h+5]==="A"&&c[h+6]==="T"&&c[h+7]==="I"&&c[h+8]==="O"&&c[h+9]==="N"}function o(c){if(s.isName(c))return c;throw new Error(`Invalid entity name ${c}`)}n.exports=function(c,h){const d={};if(c[h+3]!=="O"||c[h+4]!=="C"||c[h+5]!=="T"||c[h+6]!=="Y"||c[h+7]!=="P"||c[h+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{h+=9;let g=1,m=!1,x=!1,y="";for(;h<c.length;h++)if(c[h]!=="<"||x)if(c[h]===">"){if(x?c[h-1]==="-"&&c[h-2]==="-"&&(x=!1,g--):g--,g===0)break}else c[h]==="["?m=!0:y+=c[h];else{if(m&&f(c,h)){let p,b;h+=7,[p,b,h]=l(c,h+1),b.indexOf("&")===-1&&(d[o(p)]={regx:RegExp(`&${p};`,"g"),val:b})}else if(m&&a(c,h))h+=8;else if(m&&i(c,h))h+=8;else if(m&&r(c,h))h+=9;else{if(!u)throw new Error("Invalid DOCTYPE");x=!0}g++,y=""}if(g!==0)throw new Error("Unclosed DOCTYPE")}return{entities:d,i:h}}},63:(n,t)=>{const e={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(s,l){return l},attributeValueProcessor:function(s,l){return l},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(s,l,u){return s}};t.buildOptions=function(s){return Object.assign({},e,s)},t.defaultOptions=e},299:(n,t,e)=>{const s=e(705),l=e(365),u=e(193),f=e(494),a=e(118);function i(v){const N=Object.keys(v);for(let w=0;w<N.length;w++){const O=N[w];this.lastEntities[O]={regex:new RegExp("&"+O+";","g"),val:v[O]}}}function r(v,N,w,O,I,P,$){if(v!==void 0&&(this.options.trimValues&&!O&&(v=v.trim()),v.length>0)){$||(v=this.replaceEntitiesValue(v));const T=this.options.tagValueProcessor(N,v,w,I,P);return T==null?v:typeof T!=typeof v||T!==v?T:this.options.trimValues||v.trim()===v?E(v,this.options.parseTagValue,this.options.numberParseOptions):v}}function o(v){if(this.options.removeNSPrefix){const N=v.split(":"),w=v.charAt(0)==="/"?"/":"";if(N[0]==="xmlns")return"";N.length===2&&(v=w+N[1])}return v}const c=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function h(v,N,w){if(this.options.ignoreAttributes!==!0&&typeof v=="string"){const O=s.getAllMatches(v,c),I=O.length,P={};for(let $=0;$<I;$++){const T=this.resolveNameSpace(O[$][1]);if(this.ignoreAttributesFn(T,N))continue;let C=O[$][4],R=this.options.attributeNamePrefix+T;if(T.length)if(this.options.transformAttributeName&&(R=this.options.transformAttributeName(R)),R==="__proto__"&&(R="#__proto__"),C!==void 0){this.options.trimValues&&(C=C.trim()),C=this.replaceEntitiesValue(C);const S=this.options.attributeValueProcessor(T,C,N);P[R]=S==null?C:typeof S!=typeof C||S!==C?S:E(C,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(P[R]=!0)}if(!Object.keys(P).length)return;if(this.options.attributesGroupName){const $={};return $[this.options.attributesGroupName]=P,$}return P}}const d=function(v){v=v.replace(/\r\n?/g,`
`);const N=new l("!xml");let w=N,O="",I="";for(let P=0;P<v.length;P++)if(v[P]==="<")if(v[P+1]==="/"){const $=p(v,">",P,"Closing Tag is not closed.");let T=v.substring(P+2,$).trim();if(this.options.removeNSPrefix){const S=T.indexOf(":");S!==-1&&(T=T.substr(S+1))}this.options.transformTagName&&(T=this.options.transformTagName(T)),w&&(O=this.saveTextToParentTag(O,w,I));const C=I.substring(I.lastIndexOf(".")+1);if(T&&this.options.unpairedTags.indexOf(T)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${T}>`);let R=0;C&&this.options.unpairedTags.indexOf(C)!==-1?(R=I.lastIndexOf(".",I.lastIndexOf(".")-1),this.tagsNodeStack.pop()):R=I.lastIndexOf("."),I=I.substring(0,R),w=this.tagsNodeStack.pop(),O="",P=$}else if(v[P+1]==="?"){let $=b(v,P,!1,"?>");if(!$)throw new Error("Pi Tag is not closed.");if(O=this.saveTextToParentTag(O,w,I),!(this.options.ignoreDeclaration&&$.tagName==="?xml"||this.options.ignorePiTags)){const T=new l($.tagName);T.add(this.options.textNodeName,""),$.tagName!==$.tagExp&&$.attrExpPresent&&(T[":@"]=this.buildAttributesMap($.tagExp,I,$.tagName)),this.addChild(w,T,I)}P=$.closeIndex+1}else if(v.substr(P+1,3)==="!--"){const $=p(v,"-->",P+4,"Comment is not closed.");if(this.options.commentPropName){const T=v.substring(P+4,$-2);O=this.saveTextToParentTag(O,w,I),w.add(this.options.commentPropName,[{[this.options.textNodeName]:T}])}P=$}else if(v.substr(P+1,2)==="!D"){const $=u(v,P);this.docTypeEntities=$.entities,P=$.i}else if(v.substr(P+1,2)==="!["){const $=p(v,"]]>",P,"CDATA is not closed.")-2,T=v.substring(P+9,$);O=this.saveTextToParentTag(O,w,I);let C=this.parseTextData(T,w.tagname,I,!0,!1,!0,!0);C==null&&(C=""),this.options.cdataPropName?w.add(this.options.cdataPropName,[{[this.options.textNodeName]:T}]):w.add(this.options.textNodeName,C),P=$+2}else{let $=b(v,P,this.options.removeNSPrefix),T=$.tagName;const C=$.rawTagName;let R=$.tagExp,S=$.attrExpPresent,D=$.closeIndex;this.options.transformTagName&&(T=this.options.transformTagName(T)),w&&O&&w.tagname!=="!xml"&&(O=this.saveTextToParentTag(O,w,I,!1));const L=w;if(L&&this.options.unpairedTags.indexOf(L.tagname)!==-1&&(w=this.tagsNodeStack.pop(),I=I.substring(0,I.lastIndexOf("."))),T!==N.tagname&&(I+=I?"."+T:T),this.isItStopNode(this.options.stopNodes,I,T)){let k="";if(R.length>0&&R.lastIndexOf("/")===R.length-1)T[T.length-1]==="/"?(T=T.substr(0,T.length-1),I=I.substr(0,I.length-1),R=T):R=R.substr(0,R.length-1),P=$.closeIndex;else if(this.options.unpairedTags.indexOf(T)!==-1)P=$.closeIndex;else{const M=this.readStopNodeData(v,C,D+1);if(!M)throw new Error(`Unexpected end of ${C}`);P=M.i,k=M.tagContent}const z=new l(T);T!==R&&S&&(z[":@"]=this.buildAttributesMap(R,I,T)),k&&(k=this.parseTextData(k,T,I,!0,S,!0,!0)),I=I.substr(0,I.lastIndexOf(".")),z.add(this.options.textNodeName,k),this.addChild(w,z,I)}else{if(R.length>0&&R.lastIndexOf("/")===R.length-1){T[T.length-1]==="/"?(T=T.substr(0,T.length-1),I=I.substr(0,I.length-1),R=T):R=R.substr(0,R.length-1),this.options.transformTagName&&(T=this.options.transformTagName(T));const k=new l(T);T!==R&&S&&(k[":@"]=this.buildAttributesMap(R,I,T)),this.addChild(w,k,I),I=I.substr(0,I.lastIndexOf("."))}else{const k=new l(T);this.tagsNodeStack.push(w),T!==R&&S&&(k[":@"]=this.buildAttributesMap(R,I,T)),this.addChild(w,k,I),w=k}O="",P=D}}else O+=v[P];return N.child};function g(v,N,w){const O=this.options.updateTag(N.tagname,w,N[":@"]);O===!1||(typeof O=="string"&&(N.tagname=O),v.addChild(N))}const m=function(v){if(this.options.processEntities){for(let N in this.docTypeEntities){const w=this.docTypeEntities[N];v=v.replace(w.regx,w.val)}for(let N in this.lastEntities){const w=this.lastEntities[N];v=v.replace(w.regex,w.val)}if(this.options.htmlEntities)for(let N in this.htmlEntities){const w=this.htmlEntities[N];v=v.replace(w.regex,w.val)}v=v.replace(this.ampEntity.regex,this.ampEntity.val)}return v};function x(v,N,w,O){return v&&(O===void 0&&(O=Object.keys(N.child).length===0),(v=this.parseTextData(v,N.tagname,w,!1,!!N[":@"]&&Object.keys(N[":@"]).length!==0,O))!==void 0&&v!==""&&N.add(this.options.textNodeName,v),v=""),v}function y(v,N,w){const O="*."+w;for(const I in v){const P=v[I];if(O===P||N===P)return!0}return!1}function p(v,N,w,O){const I=v.indexOf(N,w);if(I===-1)throw new Error(O);return I+N.length-1}function b(v,N,w){const O=function(S,D){let L,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:">",z="";for(let M=D;M<S.length;M++){let B=S[M];if(L)B===L&&(L="");else if(B==='"'||B==="'")L=B;else if(B===k[0]){if(!k[1])return{data:z,index:M};if(S[M+1]===k[1])return{data:z,index:M}}else B==="	"&&(B=" ");z+=B}}(v,N+1,arguments.length>3&&arguments[3]!==void 0?arguments[3]:">");if(!O)return;let I=O.data;const P=O.index,$=I.search(/\s/);let T=I,C=!0;$!==-1&&(T=I.substring(0,$),I=I.substring($+1).trimStart());const R=T;if(w){const S=T.indexOf(":");S!==-1&&(T=T.substr(S+1),C=T!==O.data.substr(S+1))}return{tagName:T,tagExp:I,closeIndex:P,attrExpPresent:C,rawTagName:R}}function A(v,N,w){const O=w;let I=1;for(;w<v.length;w++)if(v[w]==="<")if(v[w+1]==="/"){const P=p(v,">",w,`${N} is not closed`);if(v.substring(w+2,P).trim()===N&&(I--,I===0))return{tagContent:v.substring(O,w),i:P};w=P}else if(v[w+1]==="?")w=p(v,"?>",w+1,"StopNode is not closed.");else if(v.substr(w+1,3)==="!--")w=p(v,"-->",w+3,"StopNode is not closed.");else if(v.substr(w+1,2)==="![")w=p(v,"]]>",w,"StopNode is not closed.")-2;else{const P=b(v,w,">");P&&((P&&P.tagName)===N&&P.tagExp[P.tagExp.length-1]!=="/"&&I++,w=P.closeIndex)}}function E(v,N,w){if(N&&typeof v=="string"){const O=v.trim();return O==="true"||O!=="false"&&f(v,w)}return s.isExist(v)?v:""}n.exports=class{constructor(v){this.options=v,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(N,w)=>String.fromCharCode(Number.parseInt(w,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(N,w)=>String.fromCharCode(Number.parseInt(w,16))}},this.addExternalEntities=i,this.parseXml=d,this.parseTextData=r,this.resolveNameSpace=o,this.buildAttributesMap=h,this.isItStopNode=y,this.replaceEntitiesValue=m,this.readStopNodeData=A,this.saveTextToParentTag=x,this.addChild=g,this.ignoreAttributesFn=a(this.options.ignoreAttributes)}}},338:(n,t,e)=>{const{buildOptions:s}=e(63),l=e(299),{prettify:u}=e(728),f=e(31);n.exports=class{constructor(a){this.externalEntities={},this.options=s(a)}parse(a,i){if(typeof a!="string"){if(!a.toString)throw new Error("XML data is accepted in String or Bytes[] form.");a=a.toString()}if(i){i===!0&&(i={});const c=f.validate(a,i);if(c!==!0)throw Error(`${c.err.msg}:${c.err.line}:${c.err.col}`)}const r=new l(this.options);r.addExternalEntities(this.externalEntities);const o=r.parseXml(a);return this.options.preserveOrder||o===void 0?o:u(o,this.options)}addEntity(a,i){if(i.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(a.indexOf("&")!==-1||a.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(i==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[a]=i}}},728:(n,t)=>{function e(f,a,i){let r;const o={};for(let c=0;c<f.length;c++){const h=f[c],d=s(h);let g="";if(g=i===void 0?d:i+"."+d,d===a.textNodeName)r===void 0?r=h[d]:r+=""+h[d];else{if(d===void 0)continue;if(h[d]){let m=e(h[d],a,g);const x=u(m,a);h[":@"]?l(m,h[":@"],g,a):Object.keys(m).length!==1||m[a.textNodeName]===void 0||a.alwaysCreateTextNode?Object.keys(m).length===0&&(a.alwaysCreateTextNode?m[a.textNodeName]="":m=""):m=m[a.textNodeName],o[d]!==void 0&&o.hasOwnProperty(d)?(Array.isArray(o[d])||(o[d]=[o[d]]),o[d].push(m)):a.isArray(d,g,x)?o[d]=[m]:o[d]=m}}}return typeof r=="string"?r.length>0&&(o[a.textNodeName]=r):r!==void 0&&(o[a.textNodeName]=r),o}function s(f){const a=Object.keys(f);for(let i=0;i<a.length;i++){const r=a[i];if(r!==":@")return r}}function l(f,a,i,r){if(a){const o=Object.keys(a),c=o.length;for(let h=0;h<c;h++){const d=o[h];r.isArray(d,i+"."+d,!0,!0)?f[d]=[a[d]]:f[d]=a[d]}}}function u(f,a){const{textNodeName:i}=a,r=Object.keys(f).length;return r===0||!(r!==1||!f[i]&&typeof f[i]!="boolean"&&f[i]!==0)}t.prettify=function(f,a){return e(f,a)}},365:n=>{n.exports=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,e){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:e})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}},135:n=>{function t(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}n.exports=function(e){return e!=null&&(t(e)||function(s){return typeof s.readFloatLE=="function"&&typeof s.slice=="function"&&t(s.slice(0,0))}(e)||!!e._isBuffer)}},542:(n,t,e)=>{(function(){var s=e(298),l=e(526).utf8,u=e(135),f=e(526).bin,a=function(i,r){i.constructor==String?i=r&&r.encoding==="binary"?f.stringToBytes(i):l.stringToBytes(i):u(i)?i=Array.prototype.slice.call(i,0):Array.isArray(i)||i.constructor===Uint8Array||(i=i.toString());for(var o=s.bytesToWords(i),c=8*i.length,h=1732584193,d=-271733879,g=-1732584194,m=271733878,x=0;x<o.length;x++)o[x]=16711935&(o[x]<<8|o[x]>>>24)|4278255360&(o[x]<<24|o[x]>>>8);o[c>>>5]|=128<<c%32,o[14+(c+64>>>9<<4)]=c;var y=a._ff,p=a._gg,b=a._hh,A=a._ii;for(x=0;x<o.length;x+=16){var E=h,v=d,N=g,w=m;h=y(h,d,g,m,o[x+0],7,-680876936),m=y(m,h,d,g,o[x+1],12,-389564586),g=y(g,m,h,d,o[x+2],17,606105819),d=y(d,g,m,h,o[x+3],22,-1044525330),h=y(h,d,g,m,o[x+4],7,-176418897),m=y(m,h,d,g,o[x+5],12,1200080426),g=y(g,m,h,d,o[x+6],17,-1473231341),d=y(d,g,m,h,o[x+7],22,-45705983),h=y(h,d,g,m,o[x+8],7,1770035416),m=y(m,h,d,g,o[x+9],12,-1958414417),g=y(g,m,h,d,o[x+10],17,-42063),d=y(d,g,m,h,o[x+11],22,-1990404162),h=y(h,d,g,m,o[x+12],7,1804603682),m=y(m,h,d,g,o[x+13],12,-40341101),g=y(g,m,h,d,o[x+14],17,-1502002290),h=p(h,d=y(d,g,m,h,o[x+15],22,1236535329),g,m,o[x+1],5,-165796510),m=p(m,h,d,g,o[x+6],9,-1069501632),g=p(g,m,h,d,o[x+11],14,643717713),d=p(d,g,m,h,o[x+0],20,-373897302),h=p(h,d,g,m,o[x+5],5,-701558691),m=p(m,h,d,g,o[x+10],9,38016083),g=p(g,m,h,d,o[x+15],14,-660478335),d=p(d,g,m,h,o[x+4],20,-405537848),h=p(h,d,g,m,o[x+9],5,568446438),m=p(m,h,d,g,o[x+14],9,-1019803690),g=p(g,m,h,d,o[x+3],14,-187363961),d=p(d,g,m,h,o[x+8],20,1163531501),h=p(h,d,g,m,o[x+13],5,-1444681467),m=p(m,h,d,g,o[x+2],9,-51403784),g=p(g,m,h,d,o[x+7],14,1735328473),h=b(h,d=p(d,g,m,h,o[x+12],20,-1926607734),g,m,o[x+5],4,-378558),m=b(m,h,d,g,o[x+8],11,-2022574463),g=b(g,m,h,d,o[x+11],16,1839030562),d=b(d,g,m,h,o[x+14],23,-35309556),h=b(h,d,g,m,o[x+1],4,-1530992060),m=b(m,h,d,g,o[x+4],11,1272893353),g=b(g,m,h,d,o[x+7],16,-155497632),d=b(d,g,m,h,o[x+10],23,-1094730640),h=b(h,d,g,m,o[x+13],4,681279174),m=b(m,h,d,g,o[x+0],11,-358537222),g=b(g,m,h,d,o[x+3],16,-722521979),d=b(d,g,m,h,o[x+6],23,76029189),h=b(h,d,g,m,o[x+9],4,-640364487),m=b(m,h,d,g,o[x+12],11,-421815835),g=b(g,m,h,d,o[x+15],16,530742520),h=A(h,d=b(d,g,m,h,o[x+2],23,-995338651),g,m,o[x+0],6,-198630844),m=A(m,h,d,g,o[x+7],10,1126891415),g=A(g,m,h,d,o[x+14],15,-1416354905),d=A(d,g,m,h,o[x+5],21,-57434055),h=A(h,d,g,m,o[x+12],6,1700485571),m=A(m,h,d,g,o[x+3],10,-1894986606),g=A(g,m,h,d,o[x+10],15,-1051523),d=A(d,g,m,h,o[x+1],21,-2054922799),h=A(h,d,g,m,o[x+8],6,1873313359),m=A(m,h,d,g,o[x+15],10,-30611744),g=A(g,m,h,d,o[x+6],15,-1560198380),d=A(d,g,m,h,o[x+13],21,1309151649),h=A(h,d,g,m,o[x+4],6,-145523070),m=A(m,h,d,g,o[x+11],10,-1120210379),g=A(g,m,h,d,o[x+2],15,718787259),d=A(d,g,m,h,o[x+9],21,-343485551),h=h+E>>>0,d=d+v>>>0,g=g+N>>>0,m=m+w>>>0}return s.endian([h,d,g,m])};a._ff=function(i,r,o,c,h,d,g){var m=i+(r&o|~r&c)+(h>>>0)+g;return(m<<d|m>>>32-d)+r},a._gg=function(i,r,o,c,h,d,g){var m=i+(r&c|o&~c)+(h>>>0)+g;return(m<<d|m>>>32-d)+r},a._hh=function(i,r,o,c,h,d,g){var m=i+(r^o^c)+(h>>>0)+g;return(m<<d|m>>>32-d)+r},a._ii=function(i,r,o,c,h,d,g){var m=i+(o^(r|~c))+(h>>>0)+g;return(m<<d|m>>>32-d)+r},a._blocksize=16,a._digestsize=16,n.exports=function(i,r){if(i==null)throw new Error("Illegal argument "+i);var o=s.wordsToBytes(a(i,r));return r&&r.asBytes?o:r&&r.asString?f.bytesToString(o):s.bytesToHex(o)}})()},285:(n,t,e)=>{var s=e(2);n.exports=function(y){return y?(y.substr(0,2)==="{}"&&(y="\\{\\}"+y.substr(2)),x(function(p){return p.split("\\\\").join(l).split("\\{").join(u).split("\\}").join(f).split("\\,").join(a).split("\\.").join(i)}(y),!0).map(o)):[]};var l="\0SLASH"+Math.random()+"\0",u="\0OPEN"+Math.random()+"\0",f="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",i="\0PERIOD"+Math.random()+"\0";function r(y){return parseInt(y,10)==y?parseInt(y,10):y.charCodeAt(0)}function o(y){return y.split(l).join("\\").split(u).join("{").split(f).join("}").split(a).join(",").split(i).join(".")}function c(y){if(!y)return[""];var p=[],b=s("{","}",y);if(!b)return y.split(",");var A=b.pre,E=b.body,v=b.post,N=A.split(",");N[N.length-1]+="{"+E+"}";var w=c(v);return v.length&&(N[N.length-1]+=w.shift(),N.push.apply(N,w)),p.push.apply(p,N),p}function h(y){return"{"+y+"}"}function d(y){return/^-?0\d/.test(y)}function g(y,p){return y<=p}function m(y,p){return y>=p}function x(y,p){var b=[],A=s("{","}",y);if(!A)return[y];var E=A.pre,v=A.post.length?x(A.post,!1):[""];if(/\$$/.test(A.pre))for(var N=0;N<v.length;N++){var w=E+"{"+A.body+"}"+v[N];b.push(w)}else{var O,I,P=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(A.body),$=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(A.body),T=P||$,C=A.body.indexOf(",")>=0;if(!T&&!C)return A.post.match(/,.*\}/)?x(y=A.pre+"{"+A.body+f+A.post):[y];if(T)O=A.body.split(/\.\./);else if((O=c(A.body)).length===1&&(O=x(O[0],!1).map(h)).length===1)return v.map(function(Zn){return A.pre+O[0]+Zn});if(T){var R=r(O[0]),S=r(O[1]),D=Math.max(O[0].length,O[1].length),L=O.length==3?Math.abs(r(O[2])):1,k=g;S<R&&(L*=-1,k=m);var z=O.some(d);I=[];for(var M=R;k(M,S);M+=L){var B;if($)(B=String.fromCharCode(M))==="\\"&&(B="");else if(B=String(M),z){var Ae=D-B.length;if(Ae>0){var Oe=new Array(Ae+1).join("0");B=M<0?"-"+Oe+B.slice(1):Oe+B}}I.push(B)}}else{I=[];for(var it=0;it<O.length;it++)I.push.apply(I,x(O[it],!1))}for(it=0;it<I.length;it++)for(N=0;N<v.length;N++)w=E+I[it]+v[N],(!p||T||w)&&b.push(w)}return b}},829:n=>{function t(r){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},t(r)}function e(r){var o=typeof Map=="function"?new Map:void 0;return e=function(c){if(c===null||(h=c,Function.toString.call(h).indexOf("[native code]")===-1))return c;var h;if(typeof c!="function")throw new TypeError("Super expression must either be null or a function");if(o!==void 0){if(o.has(c))return o.get(c);o.set(c,d)}function d(){return s(c,arguments,u(this).constructor)}return d.prototype=Object.create(c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),l(d,c)},e(r)}function s(r,o,c){return s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(h,d,g){var m=[null];m.push.apply(m,d);var x=new(Function.bind.apply(h,m));return g&&l(x,g.prototype),x},s.apply(null,arguments)}function l(r,o){return l=Object.setPrototypeOf||function(c,h){return c.__proto__=h,c},l(r,o)}function u(r){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},u(r)}var f=function(r){function o(c){var h;return function(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}(this,o),(h=function(d,g){return!g||t(g)!=="object"&&typeof g!="function"?function(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(d):g}(this,u(o).call(this,c))).name="ObjectPrototypeMutationError",h}return function(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),h&&l(c,h)}(o,r),o}(e(Error));function a(r,o){for(var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},h=o.split("."),d=h.length,g=function(y){var p=h[y];if(!r)return{v:void 0};if(p==="+"){if(Array.isArray(r))return{v:r.map(function(A,E){var v=h.slice(y+1);return v.length>0?a(A,v.join("."),c):c(r,E,h,y)})};var b=h.slice(0,y).join(".");throw new Error("Object at wildcard (".concat(b,") is not an array"))}r=c(r,p,h,y)},m=0;m<d;m++){var x=g(m);if(t(x)==="object")return x.v}return r}function i(r,o){return r.length===o+1}n.exports={set:function(r,o,c){if(t(r)!="object"||r===null||o===void 0)return r;if(typeof o=="number")return r[o]=c,r[o];try{return a(r,o,function(h,d,g,m){if(h===Reflect.getPrototypeOf({}))throw new f("Attempting to mutate Object.prototype");if(!h[d]){var x=Number.isInteger(Number(g[m+1])),y=g[m+1]==="+";h[d]=x||y?[]:{}}return i(g,m)&&(h[d]=c),h[d]})}catch(h){if(h instanceof f)throw h;return r}},get:function(r,o){if(t(r)!="object"||r===null||o===void 0)return r;if(typeof o=="number")return r[o];try{return a(r,o,function(c,h){return c[h]})}catch{return r}},has:function(r,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t(r)!="object"||r===null||o===void 0)return!1;if(typeof o=="number")return o in r;try{var h=!1;return a(r,o,function(d,g,m,x){if(!i(m,x))return d&&d[g];h=c.own?d.hasOwnProperty(g):g in d}),h}catch{return!1}},hasOwn:function(r,o,c){return this.has(r,o,c||{own:!0})},isIn:function(r,o,c){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t(r)!="object"||r===null||o===void 0)return!1;try{var d=!1,g=!1;return a(r,o,function(m,x,y,p){return d=d||m===c||!!m&&m[x]===c,g=i(y,p)&&t(m)==="object"&&x in m,m&&m[x]}),h.validPath?d&&g:d}catch{return!1}},ObjectPrototypeMutationError:f}},47:(n,t,e)=>{var s=e(410),l=function(r){return typeof r=="string"};function u(r,o){for(var c=[],h=0;h<r.length;h++){var d=r[h];d&&d!=="."&&(d===".."?c.length&&c[c.length-1]!==".."?c.pop():o&&c.push(".."):c.push(d))}return c}var f=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a={};function i(r){return f.exec(r).slice(1)}a.resolve=function(){for(var r="",o=!1,c=arguments.length-1;c>=-1&&!o;c--){var h=c>=0?arguments[c]:lt.cwd();if(!l(h))throw new TypeError("Arguments to path.resolve must be strings");h&&(r=h+"/"+r,o=h.charAt(0)==="/")}return(o?"/":"")+(r=u(r.split("/"),!o).join("/"))||"."},a.normalize=function(r){var o=a.isAbsolute(r),c=r.substr(-1)==="/";return(r=u(r.split("/"),!o).join("/"))||o||(r="."),r&&c&&(r+="/"),(o?"/":"")+r},a.isAbsolute=function(r){return r.charAt(0)==="/"},a.join=function(){for(var r="",o=0;o<arguments.length;o++){var c=arguments[o];if(!l(c))throw new TypeError("Arguments to path.join must be strings");c&&(r+=r?"/"+c:c)}return a.normalize(r)},a.relative=function(r,o){function c(p){for(var b=0;b<p.length&&p[b]==="";b++);for(var A=p.length-1;A>=0&&p[A]==="";A--);return b>A?[]:p.slice(b,A+1)}r=a.resolve(r).substr(1),o=a.resolve(o).substr(1);for(var h=c(r.split("/")),d=c(o.split("/")),g=Math.min(h.length,d.length),m=g,x=0;x<g;x++)if(h[x]!==d[x]){m=x;break}var y=[];for(x=m;x<h.length;x++)y.push("..");return(y=y.concat(d.slice(m))).join("/")},a._makeLong=function(r){return r},a.dirname=function(r){var o=i(r),c=o[0],h=o[1];return c||h?(h&&(h=h.substr(0,h.length-1)),c+h):"."},a.basename=function(r,o){var c=i(r)[2];return o&&c.substr(-1*o.length)===o&&(c=c.substr(0,c.length-o.length)),c},a.extname=function(r){return i(r)[3]},a.format=function(r){if(!s.isObject(r))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof r);var o=r.root||"";if(!l(o))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof r.root);return(r.dir?r.dir+a.sep:"")+(r.base||"")},a.parse=function(r){if(!l(r))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof r);var o=i(r);if(!o||o.length!==4)throw new TypeError("Invalid path '"+r+"'");return o[1]=o[1]||"",o[2]=o[2]||"",o[3]=o[3]||"",{root:o[0],dir:o[0]+o[1].slice(0,o[1].length-1),base:o[2],ext:o[3],name:o[2].slice(0,o[2].length-o[3].length)}},a.sep="/",a.delimiter=":",n.exports=a},647:(n,t)=>{var e=Object.prototype.hasOwnProperty;function s(u){try{return decodeURIComponent(u.replace(/\+/g," "))}catch{return null}}function l(u){try{return encodeURIComponent(u)}catch{return null}}t.stringify=function(u,f){f=f||"";var a,i,r=[];for(i in typeof f!="string"&&(f="?"),u)if(e.call(u,i)){if((a=u[i])||a!=null&&!isNaN(a)||(a=""),i=l(i),a=l(a),i===null||a===null)continue;r.push(i+"="+a)}return r.length?f+r.join("&"):""},t.parse=function(u){for(var f,a=/([^=?#&]+)=?([^&]*)/g,i={};f=a.exec(u);){var r=s(f[1]),o=s(f[2]);r===null||o===null||r in i||(i[r]=o)}return i}},670:n=>{n.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}},494:n=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,e=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const s={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};n.exports=function(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(u=Object.assign({},s,u),!l||typeof l!="string")return l;let f=l.trim();if(u.skipLike!==void 0&&u.skipLike.test(f))return l;if(u.hex&&t.test(f))return Number.parseInt(f,16);{const i=e.exec(f);if(i){const r=i[1],o=i[2];let c=((a=i[3])&&a.indexOf(".")!==-1&&((a=a.replace(/0+$/,""))==="."?a="0":a[0]==="."?a="0"+a:a[a.length-1]==="."&&(a=a.substr(0,a.length-1))),a);const h=i[4]||i[6];if(!u.leadingZeros&&o.length>0&&r&&f[2]!=="."||!u.leadingZeros&&o.length>0&&!r&&f[1]!==".")return l;{const d=Number(f),g=""+d;return g.search(/[eE]/)!==-1||h?u.eNotation?d:l:f.indexOf(".")!==-1?g==="0"&&c===""||g===c||r&&g==="-"+c?d:l:o?c===g||r+c===g?d:l:f===g||f===r+g?d:l}}return l}var a}},737:(n,t,e)=>{var s=e(670),l=e(647),u=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,f=/[\n\r\t]/g,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,i=/:\d+$/,r=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,o=/^[a-zA-Z]:/;function c(p){return(p||"").toString().replace(u,"")}var h=[["#","hash"],["?","query"],function(p,b){return m(b.protocol)?p.replace(/\\/g,"/"):p},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};function g(p){var b,A=(typeof window<"u"?window:typeof vt<"u"?vt:typeof self<"u"?self:{}).location||{},E={},v=typeof(p=p||A);if(p.protocol==="blob:")E=new y(unescape(p.pathname),{});else if(v==="string")for(b in E=new y(p,{}),d)delete E[b];else if(v==="object"){for(b in p)b in d||(E[b]=p[b]);E.slashes===void 0&&(E.slashes=a.test(p.href))}return E}function m(p){return p==="file:"||p==="ftp:"||p==="http:"||p==="https:"||p==="ws:"||p==="wss:"}function x(p,b){p=(p=c(p)).replace(f,""),b=b||{};var A,E=r.exec(p),v=E[1]?E[1].toLowerCase():"",N=!!E[2],w=!!E[3],O=0;return N?w?(A=E[2]+E[3]+E[4],O=E[2].length+E[3].length):(A=E[2]+E[4],O=E[2].length):w?(A=E[3]+E[4],O=E[3].length):A=E[4],v==="file:"?O>=2&&(A=A.slice(2)):m(v)?A=E[4]:v?N&&(A=A.slice(2)):O>=2&&m(b.protocol)&&(A=E[4]),{protocol:v,slashes:N||m(v),slashesCount:O,rest:A}}function y(p,b,A){if(p=(p=c(p)).replace(f,""),!(this instanceof y))return new y(p,b,A);var E,v,N,w,O,I,P=h.slice(),$=typeof b,T=this,C=0;for($!=="object"&&$!=="string"&&(A=b,b=null),A&&typeof A!="function"&&(A=l.parse),E=!(v=x(p||"",b=g(b))).protocol&&!v.slashes,T.slashes=v.slashes||E&&b.slashes,T.protocol=v.protocol||b.protocol||"",p=v.rest,(v.protocol==="file:"&&(v.slashesCount!==2||o.test(p))||!v.slashes&&(v.protocol||v.slashesCount<2||!m(T.protocol)))&&(P[3]=[/(.*)/,"pathname"]);C<P.length;C++)typeof(w=P[C])!="function"?(N=w[0],I=w[1],N!=N?T[I]=p:typeof N=="string"?~(O=N==="@"?p.lastIndexOf(N):p.indexOf(N))&&(typeof w[2]=="number"?(T[I]=p.slice(0,O),p=p.slice(O+w[2])):(T[I]=p.slice(O),p=p.slice(0,O))):(O=N.exec(p))&&(T[I]=O[1],p=p.slice(0,O.index)),T[I]=T[I]||E&&w[3]&&b[I]||"",w[4]&&(T[I]=T[I].toLowerCase())):p=w(p,T);A&&(T.query=A(T.query)),E&&b.slashes&&T.pathname.charAt(0)!=="/"&&(T.pathname!==""||b.pathname!=="")&&(T.pathname=function(R,S){if(R==="")return S;for(var D=(S||"/").split("/").slice(0,-1).concat(R.split("/")),L=D.length,k=D[L-1],z=!1,M=0;L--;)D[L]==="."?D.splice(L,1):D[L]===".."?(D.splice(L,1),M++):M&&(L===0&&(z=!0),D.splice(L,1),M--);return z&&D.unshift(""),k!=="."&&k!==".."||D.push(""),D.join("/")}(T.pathname,b.pathname)),T.pathname.charAt(0)!=="/"&&m(T.protocol)&&(T.pathname="/"+T.pathname),s(T.port,T.protocol)||(T.host=T.hostname,T.port=""),T.username=T.password="",T.auth&&(~(O=T.auth.indexOf(":"))?(T.username=T.auth.slice(0,O),T.username=encodeURIComponent(decodeURIComponent(T.username)),T.password=T.auth.slice(O+1),T.password=encodeURIComponent(decodeURIComponent(T.password))):T.username=encodeURIComponent(decodeURIComponent(T.auth)),T.auth=T.password?T.username+":"+T.password:T.username),T.origin=T.protocol!=="file:"&&m(T.protocol)&&T.host?T.protocol+"//"+T.host:"null",T.href=T.toString()}y.prototype={set:function(p,b,A){var E=this;switch(p){case"query":typeof b=="string"&&b.length&&(b=(A||l.parse)(b)),E[p]=b;break;case"port":E[p]=b,s(b,E.protocol)?b&&(E.host=E.hostname+":"+b):(E.host=E.hostname,E[p]="");break;case"hostname":E[p]=b,E.port&&(b+=":"+E.port),E.host=b;break;case"host":E[p]=b,i.test(b)?(b=b.split(":"),E.port=b.pop(),E.hostname=b.join(":")):(E.hostname=b,E.port="");break;case"protocol":E.protocol=b.toLowerCase(),E.slashes=!A;break;case"pathname":case"hash":if(b){var v=p==="pathname"?"/":"#";E[p]=b.charAt(0)!==v?v+b:b}else E[p]=b;break;case"username":case"password":E[p]=encodeURIComponent(b);break;case"auth":var N=b.indexOf(":");~N?(E.username=b.slice(0,N),E.username=encodeURIComponent(decodeURIComponent(E.username)),E.password=b.slice(N+1),E.password=encodeURIComponent(decodeURIComponent(E.password))):E.username=encodeURIComponent(decodeURIComponent(b))}for(var w=0;w<h.length;w++){var O=h[w];O[4]&&(E[O[1]]=E[O[1]].toLowerCase())}return E.auth=E.password?E.username+":"+E.password:E.username,E.origin=E.protocol!=="file:"&&m(E.protocol)&&E.host?E.protocol+"//"+E.host:"null",E.href=E.toString(),E},toString:function(p){p&&typeof p=="function"||(p=l.stringify);var b,A=this,E=A.host,v=A.protocol;v&&v.charAt(v.length-1)!==":"&&(v+=":");var N=v+(A.protocol&&A.slashes||m(A.protocol)?"//":"");return A.username?(N+=A.username,A.password&&(N+=":"+A.password),N+="@"):A.password?(N+=":"+A.password,N+="@"):A.protocol!=="file:"&&m(A.protocol)&&!E&&A.pathname!=="/"&&(N+="@"),(E[E.length-1]===":"||i.test(A.hostname)&&!A.port)&&(E+=":"),N+=E+A.pathname,(b=typeof A.query=="object"?p(A.query):A.query)&&(N+=b.charAt(0)!=="?"?"?"+b:b),A.hash&&(N+=A.hash),N}},y.extractProtocol=x,y.location=g,y.trimLeft=c,y.qs=l,n.exports=y},410:()=>{},388:()=>{},805:()=>{},345:()=>{},800:()=>{}},Ce={};function j(n){var t=Ce[n];if(t!==void 0)return t.exports;var e=Ce[n]={id:n,loaded:!1,exports:{}};return lr[n].call(e.exports,e,e.exports,j),e.loaded=!0,e.exports}j.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return j.d(t,{a:t}),t},j.d=(n,t)=>{for(var e in t)j.o(t,e)&&!j.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},j.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),j.nmd=n=>(n.paths=[],n.children||(n.children=[]),n);var J={};j.d(J,{hT:()=>Z,O4:()=>nt,Kd:()=>br,YK:()=>yr,UU:()=>Os,Gu:()=>In,ky:()=>Fn,h4:()=>mt,ch:()=>Rt,hq:()=>ot,i5:()=>_n});var hr=j(737),cr=j.n(hr);function kt(n){if(!le(n))throw new Error("Parameter was not an error")}function le(n){return!!n&&typeof n=="object"&&(t=n,Object.prototype.toString.call(t)==="[object Error]")||n instanceof Error;var t}class K extends Error{constructor(t,e){const s=[...arguments],{options:l,shortMessage:u}=function(a){let i,r="";if(a.length===0)i={};else if(le(a[0]))i={cause:a[0]},r=a.slice(1).join(" ")||"";else if(a[0]&&typeof a[0]=="object")i=Object.assign({},a[0]),r=a.slice(1).join(" ")||"";else{if(typeof a[0]!="string")throw new Error("Invalid arguments passed to Layerr");i={},r=r=a.join(" ")||""}return{options:i,shortMessage:r}}(s);let f=u;if(l.cause&&(f=`${f}: ${l.cause.message}`),super(f),this.message=f,l.name&&typeof l.name=="string"?this.name=l.name:this.name="Layerr",l.cause&&Object.defineProperty(this,"_cause",{value:l.cause}),Object.defineProperty(this,"_info",{value:{}}),l.info&&typeof l.info=="object"&&Object.assign(this._info,l.info),Error.captureStackTrace){const a=l.constructorOpt||this.constructor;Error.captureStackTrace(this,a)}}static cause(t){return kt(t),t._cause&&le(t._cause)?t._cause:null}static fullStack(t){kt(t);const e=K.cause(t);return e?`${t.stack}
caused by: ${K.fullStack(e)}`:t.stack??""}static info(t){kt(t);const e={},s=K.cause(t);return s&&Object.assign(e,K.info(s)),t._info&&Object.assign(e,t._info),e}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t=`${t}: ${this.message}`),t}}var fr=j(47),Nt=j.n(fr);const Re="__PATH_SEPARATOR_POSIX__",Se="__PATH_SEPARATOR_WINDOWS__";function F(n){try{const t=n.replace(/\//g,Re).replace(/\\\\/g,Se);return encodeURIComponent(t).split(Se).join("\\\\").split(Re).join("/")}catch(t){throw new K(t,"Failed encoding path")}}function Le(n){return n.startsWith("/")?n:"/"+n}function dt(n){let t=n;return t[0]!=="/"&&(t="/"+t),/^.+\/$/.test(t)&&(t=t.substr(0,t.length-1)),t}function pr(n){let t=new(cr())(n).pathname;return t.length<=0&&(t="/"),dt(t)}function _(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return function(){return function(s){var l=[];if(s.length===0)return"";if(typeof s[0]!="string")throw new TypeError("Url must be a string. Received "+s[0]);if(s[0].match(/^[^/:]+:\/*$/)&&s.length>1){var u=s.shift();s[0]=u+s[0]}s[0].match(/^file:\/\/\//)?s[0]=s[0].replace(/^([^/:]+):\/*/,"$1:///"):s[0]=s[0].replace(/^([^/:]+):\/*/,"$1://");for(var f=0;f<s.length;f++){var a=s[f];if(typeof a!="string")throw new TypeError("Url must be a string. Received "+a);a!==""&&(f>0&&(a=a.replace(/^[\/]+/,"")),a=f<s.length-1?a.replace(/[\/]+$/,""):a.replace(/[\/]+$/,"/"),l.push(a))}var i=l.join("/"),r=(i=i.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return r.shift()+(r.length>0?"?":"")+r.join("&")}(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))}(t.reduce((s,l,u)=>((u===0||l!=="/"||l==="/"&&s[s.length-1]!=="/")&&s.push(l),s),[]))}var gr=j(542),ct=j.n(gr);const dr="abcdef0123456789";function je(n,t){const e=n.url.replace("//",""),s=e.indexOf("/")==-1?"/":e.slice(e.indexOf("/")),l=n.method?n.method.toUpperCase():"GET",u=!!/(^|,)\s*auth\s*($|,)/.test(t.qop)&&"auth",f=`00000000${t.nc}`.slice(-8),a=function(h,d,g,m,x,y,p){const b=p||ct()(`${d}:${g}:${m}`);return h&&h.toLowerCase()==="md5-sess"?ct()(`${b}:${x}:${y}`):b}(t.algorithm,t.username,t.realm,t.password,t.nonce,t.cnonce,t.ha1),i=ct()(`${l}:${s}`),r=u?ct()(`${a}:${t.nonce}:${f}:${t.cnonce}:${u}:${i}`):ct()(`${a}:${t.nonce}:${i}`),o={username:t.username,realm:t.realm,nonce:t.nonce,uri:s,qop:u,response:r,nc:f,cnonce:t.cnonce,algorithm:t.algorithm,opaque:t.opaque},c=[];for(const h in o)o[h]&&(h==="qop"||h==="nc"||h==="algorithm"?c.push(`${h}=${o[h]}`):c.push(`${h}="${o[h]}"`));return`Digest ${c.join(", ")}`}function An(n){return(n.headers&&n.headers.get("www-authenticate")||"").split(/\s/)[0].toLowerCase()==="digest"}var mr=j(101),On=j.n(mr);function ke(n){return On().decode(n)}function Fe(n,t){var e;return`Basic ${e=`${n}:${t}`,On().encode(e)}`}const At=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:typeof window<"u"?window:globalThis,vr=At.fetch.bind(At),br=At.Request,yr=At.Response;let Z=function(n){return n.Auto="auto",n.Digest="digest",n.None="none",n.Password="password",n.Token="token",n}({}),nt=function(n){return n.DataTypeNoLength="data-type-no-length",n.InvalidAuthType="invalid-auth-type",n.InvalidOutputFormat="invalid-output-format",n.LinkUnsupportedAuthType="link-unsupported-auth",n.InvalidUpdateRange="invalid-update-range",n.NotSupported="not-supported",n}({});function Tn(n,t,e,s,l){switch(n.authType){case Z.Auto:t&&e&&(n.headers.Authorization=Fe(t,e));break;case Z.Digest:n.digest=function(f,a,i){return{username:f,password:a,ha1:i,nc:0,algorithm:"md5",hasDigestAuth:!1}}(t,e,l);break;case Z.None:break;case Z.Password:n.headers.Authorization=Fe(t,e);break;case Z.Token:n.headers.Authorization=`${(u=s).token_type} ${u.access_token}`;break;default:throw new K({info:{code:nt.InvalidAuthType}},`Invalid auth type: ${n.authType}`)}var u}j(345),j(800);const _e="@@HOTPATCHER",xr=()=>{};function Ft(n){return{original:n,methods:[n],final:!1}}class Er{constructor(){this._configuration={registry:{},getEmptyAction:"null"},this.__type__=_e}get configuration(){return this._configuration}get getEmptyAction(){return this.configuration.getEmptyAction}set getEmptyAction(t){this.configuration.getEmptyAction=t}control(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!t||t.__type__!==_e)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(t.configuration.registry).forEach(s=>{this.configuration.registry.hasOwnProperty(s)?e&&(this.configuration.registry[s]=Object.assign({},t.configuration.registry[s])):this.configuration.registry[s]=Object.assign({},t.configuration.registry[s])}),t._configuration=this.configuration,this}execute(t){const e=this.get(t)||xr;for(var s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];return e(...l)}get(t){const e=this.configuration.registry[t];if(!e)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error(`Failed handling method request: No method provided for override: ${t}`);default:throw new Error(`Failed handling request which resulted in an empty method: Invalid empty-action specified: ${this.getEmptyAction}`)}return function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];if(l.length===0)throw new Error("Failed creating sequence: No functions provided");return function(){for(var f=arguments.length,a=new Array(f),i=0;i<f;i++)a[i]=arguments[i];let r=a;const o=this;for(;l.length>0;)r=[l.shift().apply(o,r)];return r[0]}}(...e.methods)}isPatched(t){return!!this.configuration.registry[t]}patch(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{chain:l=!1}=s;if(this.configuration.registry[t]&&this.configuration.registry[t].final)throw new Error(`Failed patching '${t}': Method marked as being final`);if(typeof e!="function")throw new Error(`Failed patching '${t}': Provided method is not a function`);if(l)this.configuration.registry[t]?this.configuration.registry[t].methods.push(e):this.configuration.registry[t]=Ft(e);else if(this.isPatched(t)){const{original:u}=this.configuration.registry[t];this.configuration.registry[t]=Object.assign(Ft(e),{original:u})}else this.configuration.registry[t]=Ft(e);return this}patchInline(t,e){this.isPatched(t)||this.patch(t,e);for(var s=arguments.length,l=new Array(s>2?s-2:0),u=2;u<s;u++)l[u-2]=arguments[u];return this.execute(t,...l)}plugin(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),l=1;l<e;l++)s[l-1]=arguments[l];return s.forEach(u=>{this.patch(t,u,{chain:!0})}),this}restore(t){if(!this.isPatched(t))throw new Error(`Failed restoring method: No method present for key: ${t}`);if(typeof this.configuration.registry[t].original!="function")throw new Error(`Failed restoring method: Original method not found or of invalid type for key: ${t}`);return this.configuration.registry[t].methods=[this.configuration.registry[t].original],this}setFinal(t){if(!this.configuration.registry.hasOwnProperty(t))throw new Error(`Failed marking '${t}' as final: No method found for key`);return this.configuration.registry[t].final=!0,this}}let _t=null;function In(){return _t||(_t=new Er),_t}function Ot(n){return function(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}(n)?Object.assign({},n):Object.setPrototypeOf(Object.assign({},n),Object.getPrototypeOf(n))}function De(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];let s=null,l=[...t];for(;l.length>0;){const u=l.shift();s=s?Pn(s,u):Ot(u)}return s}function Pn(n,t){const e=Ot(n);return Object.keys(t).forEach(s=>{e.hasOwnProperty(s)?Array.isArray(t[s])?e[s]=Array.isArray(e[s])?[...e[s],...t[s]]:[...t[s]]:typeof t[s]=="object"&&t[s]?e[s]=typeof e[s]=="object"&&e[s]?Pn(e[s],t[s]):Ot(t[s]):e[s]=t[s]:e[s]=t[s]}),e}function wr(n){const t={};for(const e of n.keys())t[e]=n.get(e);return t}function he(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];if(t.length===0)return{};const s={};return t.reduce((l,u)=>(Object.keys(u).forEach(f=>{const a=f.toLowerCase();s.hasOwnProperty(a)?l[s[a]]=u[f]:(s[a]=f,l[f]=u[f])}),l),{})}j(805);const Nr=typeof ArrayBuffer=="function",{toString:Ar}=Object.prototype;function $n(n){return Nr&&(n instanceof ArrayBuffer||Ar.call(n)==="[object ArrayBuffer]")}function Cn(n){return n!=null&&n.constructor!=null&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function me(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(s){return Promise.reject(s)}}}function ce(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}const Rn=me(function(n){const t=n._digest;return delete n._digest,t.hasDigestAuth&&(n=De(n,{headers:{Authorization:je(n,t)}})),ce(Tt(n),function(e){let s=!1;return l=function(f){return s?f:e},(u=function(){if(e.status==401)return t.hasDigestAuth=function(f,a){if(!An(f))return!1;const i=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;for(;;){const r=f.headers&&f.headers.get("www-authenticate")||"",o=i.exec(r);if(!o)break;a[o[1]]=o[2]||o[3]}return a.nc+=1,a.cnonce=function(){let r="";for(let o=0;o<32;++o)r=`${r}${dr[Math.floor(16*Math.random())]}`;return r}(),!0}(e,t),function(){if(t.hasDigestAuth)return ce(Tt(n=De(n,{headers:{Authorization:je(n,t)}})),function(f){return f.status==401?t.hasDigestAuth=!1:t.nc++,s=!0,f})}();t.nc++}())&&u.then?u.then(l):l(u);var l,u})}),Or=me(function(n,t){return ce(Tt(n),function(e){return e.ok?(t.authType=Z.Password,e):e.status==401&&An(e)?(t.authType=Z.Digest,Tn(t,t.username,t.password,void 0,void 0),n._digest=t.digest,Rn(n)):e})}),U=me(function(n,t){return t.authType===Z.Auto?Or(n,t):n._digest?Rn(n):Tt(n)});function V(n,t,e){const s=Ot(n);return s.headers=he(t.headers,s.headers||{},e.headers||{}),e.data!==void 0&&(s.data=e.data),e.signal&&(s.signal=e.signal),t.httpAgent&&(s.httpAgent=t.httpAgent),t.httpsAgent&&(s.httpsAgent=t.httpsAgent),t.digest&&(s._digest=t.digest),typeof t.withCredentials=="boolean"&&(s.withCredentials=t.withCredentials),s}function Tt(n){const t=In();return t.patchInline("request",e=>t.patchInline("fetch",vr,e.url,function(s){let l={};const u={method:s.method};if(s.headers&&(l=he(l,s.headers)),s.data!==void 0){const[f,a]=function(i){if(typeof i=="string")return[i,{}];if(Cn(i))return[i,{}];if($n(i))return[i,{}];if(i&&typeof i=="object")return[JSON.stringify(i),{"content-type":"application/json"}];throw new Error("Unable to convert request body: Unexpected body type: "+typeof i)}(s.data);u.body=f,l=he(l,a)}return s.signal&&(u.signal=s.signal),s.withCredentials&&(u.credentials="include"),u.headers=l,u}(e)),n)}var Tr=j(285);const It=n=>{if(typeof n!="string")throw new TypeError("invalid pattern");if(n.length>65536)throw new TypeError("pattern is too long")},Ir={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},ft=n=>n.replace(/[[\]\\-]/g,"\\$&"),Me=n=>n.join(""),Pr=(n,t)=>{const e=t;if(n.charAt(e)!=="[")throw new Error("not in a brace expression");const s=[],l=[];let u=e+1,f=!1,a=!1,i=!1,r=!1,o=e,c="";t:for(;u<n.length;){const m=n.charAt(u);if(m!=="!"&&m!=="^"||u!==e+1){if(m==="]"&&f&&!i){o=u+1;break}if(f=!0,m!=="\\"||i){if(m==="["&&!i){for(const[x,[y,p,b]]of Object.entries(Ir))if(n.startsWith(x,u)){if(c)return["$.",!1,n.length-e,!0];u+=x.length,b?l.push(y):s.push(y),a=a||p;continue t}}i=!1,c?(m>c?s.push(ft(c)+"-"+ft(m)):m===c&&s.push(ft(m)),c="",u++):n.startsWith("-]",u+1)?(s.push(ft(m+"-")),u+=2):n.startsWith("-",u+1)?(c=m,u+=2):(s.push(ft(m)),u++)}else i=!0,u++}else r=!0,u++}if(o<u)return["",!1,0,!1];if(!s.length&&!l.length)return["$.",!1,n.length-e,!0];if(l.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!r)return[(h=s[0].length===2?s[0].slice(-1):s[0],h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,o-e,!1];var h;const d="["+(r?"^":"")+Me(s)+"]",g="["+(r?"":"^")+Me(l)+"]";return[s.length&&l.length?"("+d+"|"+g+")":s.length?d:g,a,o-e,!0]},pt=function(n){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?n.replace(/\[([^\/\\])\]/g,"$1"):n.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},$r=new Set(["!","?","+","*","@"]),Ue=n=>$r.has(n),Dt="(?!\\.)",Cr=new Set(["[","."]),Rr=new Set(["..","."]),Sr=new Set("().*{}+?[]^$\\!"),ve="[^/]",Ve=ve+"*?",Ge=ve+"+?";class q{type;#n;#r;#i=!1;#t=[];#e;#o;#u;#a=!1;#s;#l;#c=!1;constructor(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.type=t,t&&(this.#r=!0),this.#e=e,this.#n=this.#e?this.#e.#n:this,this.#s=this.#n===this?s:this.#n.#s,this.#u=this.#n===this?[]:this.#n.#u,t!=="!"||this.#n.#a||this.#u.push(this),this.#o=this.#e?this.#e.#t.length:0}get hasMagic(){if(this.#r!==void 0)return this.#r;for(const t of this.#t)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#r=!0;return this.#r}toString(){return this.#l!==void 0?this.#l:this.type?this.#l=this.type+"("+this.#t.map(t=>String(t)).join("|")+")":this.#l=this.#t.map(t=>String(t)).join("")}#p(){if(this!==this.#n)throw new Error("should only call on root");if(this.#a)return this;let t;for(this.toString(),this.#a=!0;t=this.#u.pop();){if(t.type!=="!")continue;let e=t,s=e.#e;for(;s;){for(let l=e.#o+1;!s.type&&l<s.#t.length;l++)for(const u of t.#t){if(typeof u=="string")throw new Error("string part in extglob AST??");u.copyIn(s.#t[l])}e=s,s=e.#e}}return this}push(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];for(const l of e)if(l!==""){if(typeof l!="string"&&!(l instanceof q&&l.#e===this))throw new Error("invalid part: "+l);this.#t.push(l)}}toJSON(){const t=this.type===null?this.#t.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#t.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#n||this.#n.#a&&this.#e?.type==="!")&&t.push({}),t}isStart(){if(this.#n===this)return!0;if(!this.#e?.isStart())return!1;if(this.#o===0)return!0;const t=this.#e;for(let e=0;e<this.#o;e++){const s=t.#t[e];if(!(s instanceof q&&s.type==="!"))return!1}return!0}isEnd(){if(this.#n===this||this.#e?.type==="!")return!0;if(!this.#e?.isEnd())return!1;if(!this.type)return this.#e?.isEnd();const t=this.#e?this.#e.#t.length:0;return this.#o===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const e=new q(this.type,t);for(const s of this.#t)e.copyIn(s);return e}static#h(t,e,s,l){let u=!1,f=!1,a=-1,i=!1;if(e.type===null){let d=s,g="";for(;d<t.length;){const m=t.charAt(d++);if(u||m==="\\")u=!u,g+=m;else if(f)d===a+1?m!=="^"&&m!=="!"||(i=!0):m!=="]"||d===a+2&&i||(f=!1),g+=m;else if(m!=="[")if(l.noext||!Ue(m)||t.charAt(d)!=="(")g+=m;else{e.push(g),g="";const x=new q(m,e);d=q.#h(t,x,d,l),e.push(x)}else f=!0,a=d,i=!1,g+=m}return e.push(g),d}let r=s+1,o=new q(null,e);const c=[];let h="";for(;r<t.length;){const d=t.charAt(r++);if(u||d==="\\")u=!u,h+=d;else if(f)r===a+1?d!=="^"&&d!=="!"||(i=!0):d!=="]"||r===a+2&&i||(f=!1),h+=d;else if(d!=="[")if(Ue(d)&&t.charAt(r)==="("){o.push(h),h="";const g=new q(d,o);o.push(g),r=q.#h(t,g,r,l)}else if(d!=="|"){if(d===")")return h===""&&e.#t.length===0&&(e.#c=!0),o.push(h),h="",e.push(...c,o),r;h+=d}else o.push(h),h="",c.push(o),o=new q(null,e);else f=!0,a=r,i=!1,h+=d}return e.type=null,e.#r=void 0,e.#t=[t.substring(s-1)],r}static fromGlob(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=new q(null,void 0,e);return q.#h(t,s,0,e),s}toMMPattern(){if(this!==this.#n)return this.#n.toMMPattern();const t=this.toString(),[e,s,l,u]=this.toRegExpSource();if(!(l||this.#r||this.#s.nocase&&!this.#s.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;const f=(this.#s.nocase?"i":"")+(u?"u":"");return Object.assign(new RegExp(`^${e}$`,f),{_src:e,_glob:t})}get options(){return this.#s}toRegExpSource(t){const e=t??!!this.#s.dot;if(this.#n===this&&this.#p(),!this.type){const i=this.isStart()&&this.isEnd(),r=this.#t.map(h=>{const[d,g,m,x]=typeof h=="string"?q.#g(h,this.#r,i):h.toRegExpSource(t);return this.#r=this.#r||m,this.#i=this.#i||x,d}).join("");let o="";if(this.isStart()&&typeof this.#t[0]=="string"&&(this.#t.length!==1||!Rr.has(this.#t[0]))){const h=Cr,d=e&&h.has(r.charAt(0))||r.startsWith("\\.")&&h.has(r.charAt(2))||r.startsWith("\\.\\.")&&h.has(r.charAt(4)),g=!e&&!t&&h.has(r.charAt(0));o=d?"(?!(?:^|/)\\.\\.?(?:$|/))":g?Dt:""}let c="";return this.isEnd()&&this.#n.#a&&this.#e?.type==="!"&&(c="(?:$|\\/)"),[o+r+c,pt(r),this.#r=!!this.#r,this.#i]}const s=this.type==="*"||this.type==="+",l=this.type==="!"?"(?:(?!(?:":"(?:";let u=this.#f(e);if(this.isStart()&&this.isEnd()&&!u&&this.type!=="!"){const i=this.toString();return this.#t=[i],this.type=null,this.#r=void 0,[i,pt(this.toString()),!1,!1]}let f=!s||t||e?"":this.#f(!0);f===u&&(f=""),f&&(u=`(?:${u})(?:${f})*?`);let a="";return a=this.type==="!"&&this.#c?(this.isStart()&&!e?Dt:"")+Ge:l+u+(this.type==="!"?"))"+(!this.isStart()||e||t?"":Dt)+Ve+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&f?")":this.type==="*"&&f?")?":`)${this.type}`),[a,pt(u),this.#r=!!this.#r,this.#i]}#f(t){return this.#t.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");const[s,l,u,f]=e.toRegExpSource(t);return this.#i=this.#i||f,s}).filter(e=>!(this.isStart()&&this.isEnd()&&!e)).join("|")}static#g(t,e){let s=arguments.length>2&&arguments[2]!==void 0&&arguments[2],l=!1,u="",f=!1;for(let a=0;a<t.length;a++){const i=t.charAt(a);if(l)l=!1,u+=(Sr.has(i)?"\\":"")+i;else if(i!=="\\"){if(i==="["){const[r,o,c,h]=Pr(t,a);if(c){u+=r,f=f||o,a+=c-1,e=e||h;continue}}i!=="*"?i!=="?"?u+=i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(u+=ve,e=!0):(u+=s&&t==="*"?Ge:Ve,e=!0)}else a===t.length-1?u+="\\\\":l=!0}return[u,pt(t),!!e,f]}}const H=function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return It(t),!(!e.nocomment&&t.charAt(0)==="#")&&new Pt(t,e).match(n)},Lr=/^\*+([^+@!?\*\[\(]*)$/,jr=n=>t=>!t.startsWith(".")&&t.endsWith(n),kr=n=>t=>t.endsWith(n),Fr=n=>(n=n.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(n)),_r=n=>(n=n.toLowerCase(),t=>t.toLowerCase().endsWith(n)),Dr=/^\*+\.\*+$/,Mr=n=>!n.startsWith(".")&&n.includes("."),Ur=n=>n!=="."&&n!==".."&&n.includes("."),Vr=/^\.\*+$/,Gr=n=>n!=="."&&n!==".."&&n.startsWith("."),Br=/^\*+$/,Xr=n=>n.length!==0&&!n.startsWith("."),zr=n=>n.length!==0&&n!=="."&&n!=="..",Wr=/^\?+([^+@!?\*\[\(]*)?$/,Hr=n=>{let[t,e=""]=n;const s=Sn([t]);return e?(e=e.toLowerCase(),l=>s(l)&&l.toLowerCase().endsWith(e)):s},qr=n=>{let[t,e=""]=n;const s=Ln([t]);return e?(e=e.toLowerCase(),l=>s(l)&&l.toLowerCase().endsWith(e)):s},Zr=n=>{let[t,e=""]=n;const s=Ln([t]);return e?l=>s(l)&&l.endsWith(e):s},Yr=n=>{let[t,e=""]=n;const s=Sn([t]);return e?l=>s(l)&&l.endsWith(e):s},Sn=n=>{let[t]=n;const e=t.length;return s=>s.length===e&&!s.startsWith(".")},Ln=n=>{let[t]=n;const e=t.length;return s=>s.length===e&&s!=="."&&s!==".."},jn=typeof lt=="object"&&lt?typeof jt=="object"&&jt&&jt.__MINIMATCH_TESTING_PLATFORM__||lt.platform:"posix";H.sep=jn==="win32"?"\\":"/";const tt=Symbol("globstar **");H.GLOBSTAR=tt,H.filter=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e=>H(e,n,t)};const Q=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.assign({},n,t)};H.defaults=n=>{if(!n||typeof n!="object"||!Object.keys(n).length)return H;const t=H;return Object.assign(function(e,s){return t(e,s,Q(n,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))},{Minimatch:class extends t.Minimatch{constructor(e){super(e,Q(n,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}))}static defaults(e){return t.defaults(Q(n,e)).Minimatch}},AST:class extends t.AST{constructor(e,s){super(e,s,Q(n,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))}static fromGlob(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.AST.fromGlob(e,Q(n,s))}},unescape:function(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.unescape(e,Q(n,s))},escape:function(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.escape(e,Q(n,s))},filter:function(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.filter(e,Q(n,s))},defaults:e=>t.defaults(Q(n,e)),makeRe:function(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.makeRe(e,Q(n,s))},braceExpand:function(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.braceExpand(e,Q(n,s))},match:function(e,s){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.match(e,s,Q(n,l))},sep:t.sep,GLOBSTAR:tt})};const kn=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return It(n),t.nobrace||!/\{(?:(?!\{).)*\}/.test(n)?[n]:Tr(n)};H.braceExpand=kn,H.makeRe=function(n){return new Pt(n,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).makeRe()},H.match=function(n,t){const e=new Pt(t,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{});return n=n.filter(s=>e.match(s)),e.options.nonull&&!n.length&&n.push(t),n};const Be=/[?*]|[+@!]\(.*?\)|\[|\]/;class Pt{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};It(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||jn,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=e.windowsNoMagicRoot!==void 0?e.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const e of t)if(typeof e!="string")return!0;return!1}debug(){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#")return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=function(){return console.error(...arguments)}),this.debug(this.pattern,this.globSet);const s=this.globSet.map(u=>this.slashSplit(u));this.globParts=this.preprocess(s),this.debug(this.pattern,this.globParts);let l=this.globParts.map((u,f,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){const i=!(u[0]!==""||u[1]!==""||u[2]!=="?"&&Be.test(u[2])||Be.test(u[3])),r=/^[a-z]:/i.test(u[0]);if(i)return[...u.slice(0,4),...u.slice(4).map(o=>this.parse(o))];if(r)return[u[0],...u.slice(1).map(o=>this.parse(o))]}return u.map(i=>this.parse(i))});if(this.debug(this.pattern,l),this.set=l.filter(u=>u.indexOf(!1)===-1),this.isWindows)for(let u=0;u<this.set.length;u++){const f=this.set[u];f[0]===""&&f[1]===""&&this.globParts[u][2]==="?"&&typeof f[3]=="string"&&/^[a-z]:$/i.test(f[3])&&(f[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let s=0;s<t.length;s++)for(let l=0;l<t[s].length;l++)t[s][l]==="**"&&(t[s][l]="*");const{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=e>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(e=>{let s=-1;for(;(s=e.indexOf("**",s+1))!==-1;){let l=s;for(;e[l+1]==="**";)l++;l!==s&&e.splice(s,l-s)}return e})}levelOneOptimize(t){return t.map(e=>(e=e.reduce((s,l)=>{const u=s[s.length-1];return l==="**"&&u==="**"?s:l===".."&&u&&u!==".."&&u!=="."&&u!=="**"?(s.pop(),s):(s.push(l),s)},[])).length===0?[""]:e)}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let l=1;l<t.length-1;l++){const u=t[l];l===1&&u===""&&t[0]===""||u!=="."&&u!==""||(e=!0,t.splice(l,1),l--)}t[0]!=="."||t.length!==2||t[1]!=="."&&t[1]!==""||(e=!0,t.pop())}let s=0;for(;(s=t.indexOf("..",s+1))!==-1;){const l=t[s-1];l&&l!=="."&&l!==".."&&l!=="**"&&(e=!0,t.splice(s-1,2),s-=2)}}while(e);return t.length===0?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let s of t){let l=-1;for(;(l=s.indexOf("**",l+1))!==-1;){let f=l;for(;s[f+1]==="**";)f++;f>l&&s.splice(l+1,f-l);let a=s[l+1];const i=s[l+2],r=s[l+3];if(a!==".."||!i||i==="."||i===".."||!r||r==="."||r==="..")continue;e=!0,s.splice(l,1);const o=s.slice(0);o[l]="**",t.push(o),l--}if(!this.preserveMultipleSlashes){for(let f=1;f<s.length-1;f++){const a=s[f];f===1&&a===""&&s[0]===""||a!=="."&&a!==""||(e=!0,s.splice(f,1),f--)}s[0]!=="."||s.length!==2||s[1]!=="."&&s[1]!==""||(e=!0,s.pop())}let u=0;for(;(u=s.indexOf("..",u+1))!==-1;){const f=s[u-1];if(f&&f!=="."&&f!==".."&&f!=="**"){e=!0;const a=u===1&&s[u+1]==="**"?["."]:[];s.splice(u-1,2,...a),s.length===0&&s.push(""),u-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let s=e+1;s<t.length;s++){const l=this.partsMatch(t[e],t[s],!this.preserveMultipleSlashes);if(l){t[e]=[],t[s]=l;break}}return t.filter(e=>e.length)}partsMatch(t,e){let s=arguments.length>2&&arguments[2]!==void 0&&arguments[2],l=0,u=0,f=[],a="";for(;l<t.length&&u<e.length;)if(t[l]===e[u])f.push(a==="b"?e[u]:t[l]),l++,u++;else if(s&&t[l]==="**"&&e[u]===t[l+1])f.push(t[l]),l++;else if(s&&e[u]==="**"&&t[l]===e[u+1])f.push(e[u]),u++;else if(t[l]!=="*"||!e[u]||!this.options.dot&&e[u].startsWith(".")||e[u]==="**"){if(e[u]!=="*"||!t[l]||!this.options.dot&&t[l].startsWith(".")||t[l]==="**"||a==="a")return!1;a="b",f.push(e[u]),l++,u++}else{if(a==="b")return!1;a="a",f.push(t[l]),l++,u++}return t.length===e.length&&f}parseNegate(){if(this.nonegate)return;const t=this.pattern;let e=!1,s=0;for(let l=0;l<t.length&&t.charAt(l)==="!";l++)e=!e,s++;s&&(this.pattern=t.slice(s)),this.negate=e}matchOne(t,e){let s=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const l=this.options;if(this.isWindows){const m=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),x=!m&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),y=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),p=x?3:m?0:void 0,b=!y&&e[0]===""&&e[1]===""&&e[2]==="?"&&typeof e[3]=="string"&&/^[a-z]:$/i.test(e[3])?3:y?0:void 0;if(typeof p=="number"&&typeof b=="number"){const[A,E]=[t[p],e[b]];A.toLowerCase()===E.toLowerCase()&&(e[b]=A,b>p?e=e.slice(b):p>b&&(t=t.slice(p)))}}const{optimizationLevel:u=1}=this.options;u>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var f=0,a=0,i=t.length,r=e.length;f<i&&a<r;f++,a++){this.debug("matchOne loop");var o=e[a],c=t[f];if(this.debug(e,o,c),o===!1)return!1;if(o===tt){this.debug("GLOBSTAR",[e,o,c]);var h=f,d=a+1;if(d===r){for(this.debug("** at the end");f<i;f++)if(t[f]==="."||t[f]===".."||!l.dot&&t[f].charAt(0)===".")return!1;return!0}for(;h<i;){var g=t[h];if(this.debug(`
globstar while`,t,h,e,d,g),this.matchOne(t.slice(h),e.slice(d),s))return this.debug("globstar found match!",h,i,g),!0;if(g==="."||g===".."||!l.dot&&g.charAt(0)==="."){this.debug("dot detected!",t,h,e,d);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!s||(this.debug(`
>>> no match, partial?`,t,h,e,d),h!==i))}let m;if(typeof o=="string"?(m=c===o,this.debug("string match",o,c,m)):(m=o.test(c),this.debug("pattern match",o,c,m)),!m)return!1}if(f===i&&a===r)return!0;if(f===i)return s;if(a===r)return f===i-1&&t[f]==="";throw new Error("wtf?")}braceExpand(){return kn(this.pattern,this.options)}parse(t){It(t);const e=this.options;if(t==="**")return tt;if(t==="")return"";let s,l=null;(s=t.match(Br))?l=e.dot?zr:Xr:(s=t.match(Lr))?l=(e.nocase?e.dot?_r:Fr:e.dot?kr:jr)(s[1]):(s=t.match(Wr))?l=(e.nocase?e.dot?qr:Hr:e.dot?Zr:Yr)(s):(s=t.match(Dr))?l=e.dot?Ur:Mr:(s=t.match(Vr))&&(l=Gr);const u=q.fromGlob(t,this.options).toMMPattern();return l&&typeof u=="object"&&Reflect.defineProperty(u,"test",{value:l}),u}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const e=this.options,s=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",l=new Set(e.nocase?["i"]:[]);let u=t.map(i=>{const r=i.map(o=>{if(o instanceof RegExp)for(const c of o.flags.split(""))l.add(c);return typeof o=="string"?o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):o===tt?tt:o._src});return r.forEach((o,c)=>{const h=r[c+1],d=r[c-1];o===tt&&d!==tt&&(d===void 0?h!==void 0&&h!==tt?r[c+1]="(?:\\/|"+s+"\\/)?"+h:r[c]=s:h===void 0?r[c-1]=d+"(?:\\/|"+s+")?":h!==tt&&(r[c-1]=d+"(?:\\/|\\/"+s+"\\/)"+h,r[c+1]=tt))}),r.filter(o=>o!==tt).join("/")}).join("|");const[f,a]=t.length>1?["(?:",")"]:["",""];u="^"+f+u+a+"$",this.negate&&(u="^(?!"+u+").+$");try{this.regexp=new RegExp(u,[...l].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.partial;if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;const s=this.options;this.isWindows&&(t=t.split("\\").join("/"));const l=this.slashSplit(t);this.debug(this.pattern,"split",l);const u=this.set;this.debug(this.pattern,"set",u);let f=l[l.length-1];if(!f)for(let a=l.length-2;!f&&a>=0;a--)f=l[a];for(let a=0;a<u.length;a++){const i=u[a];let r=l;if(s.matchBase&&i.length===1&&(r=[f]),this.matchOne(r,i,e))return!!s.flipNegate||!this.negate}return!s.flipNegate&&this.negate}static defaults(t){return H.defaults(t).Minimatch}}function be(n){const t=new Error(`${arguments.length>1&&arguments[1]!==void 0?arguments[1]:""}Invalid response: ${n.status} ${n.statusText}`);return t.status=n.status,t.response=n,t}function G(n,t){const{status:e}=t;if(e===401&&n.digest)return t;if(e>=400)throw be(t);return t}function ot(n,t){return arguments.length>2&&arguments[2]!==void 0&&arguments[2]?{data:t,headers:n.headers?wr(n.headers):{},status:n.status,statusText:n.statusText}:t}H.AST=q,H.Minimatch=Pt,H.escape=function(n){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?n.replace(/[?*()[\]]/g,"[$&]"):n.replace(/[?*()[\]\\]/g,"\\$&")},H.unescape=pt;const Kr=(Xe=function(n,t,e){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const l=V({url:_(n.remoteURL,F(t)),method:"COPY",headers:{Destination:_(n.remoteURL,F(e)),Overwrite:s.overwrite===!1?"F":"T",Depth:s.shallow?"0":"infinity"}},n,s);return f=function(a){G(n,a)},(u=U(l,n))&&u.then||(u=Promise.resolve(u)),f?u.then(f):u;var u,f},function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];try{return Promise.resolve(Xe.apply(this,n))}catch(e){return Promise.reject(e)}});var Xe,ye=j(635),Qr=j(829),et=j.n(Qr),at=function(n){return n.Array="array",n.Object="object",n.Original="original",n}(at||{});function xt(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:at.Original;const s=et().get(n,t);return e==="array"&&Array.isArray(s)===!1?[s]:e==="object"&&Array.isArray(s)?s[0]:s}function mt(n){return new Promise(t=>{t(function(e){const{multistatus:s}=e;if(s==="")return{multistatus:{response:[]}};if(!s)throw new Error("Invalid response: No root multistatus found");const l={multistatus:Array.isArray(s)?s[0]:s};return et().set(l,"multistatus.response",xt(l,"multistatus.response",at.Array)),et().set(l,"multistatus.response",et().get(l,"multistatus.response").map(u=>function(f){const a=Object.assign({},f);return a.status?et().set(a,"status",xt(a,"status",at.Object)):(et().set(a,"propstat",xt(a,"propstat",at.Object)),et().set(a,"propstat.prop",xt(a,"propstat.prop",at.Object))),a}(u))),l}(new ye.XMLParser({allowBooleanAttributes:!0,attributeNamePrefix:"",textNodeName:"text",ignoreAttributes:!1,removeNSPrefix:!0,numberParseOptions:{hex:!0,leadingZeros:!1},attributeValueProcessor:(e,s,l)=>s==="true"||s==="false"?s==="true":s,tagValueProcessor(e,s,l){if(!l.endsWith("propstat.prop.displayname"))return s}}).parse(n)))})}function Rt(n,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const{getlastmodified:s=null,getcontentlength:l="0",resourcetype:u=null,getcontenttype:f=null,getetag:a=null}=n,i=u&&typeof u=="object"&&u.collection!==void 0?"directory":"file",r={filename:t,basename:Nt().basename(t),lastmod:s,size:parseInt(l,10),type:i,etag:typeof a=="string"?a.replace(/"/g,""):null};return i==="file"&&(r.mime=f&&typeof f=="string"?f.split(";")[0]:""),e&&(n.displayname!==void 0&&(n.displayname=String(n.displayname)),r.props=n),r}function Fn(n,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=null;try{n.multistatus.response[0].propstat&&(s=n.multistatus.response[0])}catch{}if(!s)throw new Error("Failed getting item stat: bad response");const{propstat:{prop:l,status:u}}=s,[f,a,i]=u.split(" ",3),r=parseInt(a,10);if(r>=400){const o=new Error(`Invalid response: ${r} ${i}`);throw o.status=r,o}return Rt(l,dt(t),e)}function _n(n){switch(String(n)){case"-3":return"unlimited";case"-2":case"-1":return"unknown";default:return parseInt(String(n),10)}}function Mt(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}const xe=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(s){return Promise.reject(s)}}}(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:s=!1}=e,l=V({url:_(n.remoteURL,F(t)),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},n,e);return Mt(U(l,n),function(u){return G(n,u),Mt(u.text(),function(f){return Mt(mt(f),function(a){const i=Fn(a,t,s);return ot(u,i,s)})})})});function Dn(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}const Jr=Mn(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=function(u){if(!u||u==="/")return[];let f=u;const a=[];do a.push(f),f=Nt().dirname(f);while(f&&f!=="/");return a}(dt(t));s.sort((u,f)=>u.length>f.length?1:f.length>u.length?-1:0);let l=!1;return function(u,f,a){if(typeof u[We]=="function"){let m=function(x){try{for(;!(i=c.next()).done;)if((x=f(i.value))&&x.then){if(!He(x))return void x.then(m,o||(o=Y.bind(null,r=new ut,2)));x=x.v}r?Y(r,1,x):r=x}catch(y){Y(r||(r=new ut),2,y)}};var i,r,o,c=u[We]();if(m(),c.return){var h=function(x){try{i.done||c.return()}catch{}return x};if(r&&r.then)return r.then(h,function(x){throw h(x)});h()}return r}if(!("length"in u))throw new TypeError("Object is not iterable");for(var d=[],g=0;g<u.length;g++)d.push(u[g]);return function(m,x,y){var p,b,A=-1;return function E(v){try{for(;++A<m.length&&(!y||!y());)if((v=x(A))&&v.then){if(!He(v))return void v.then(E,b||(b=Y.bind(null,p=new ut,2)));v=v.v}p?Y(p,1,v):p=v}catch(N){Y(p||(p=new ut),2,N)}}(),p}(d,function(m){return f(d[m])},a)}(s,function(u){return f=function(){return function(i,r){try{var o=Dn(xe(n,u),function(c){if(c.type!=="directory")throw new Error(`Path includes a file: ${t}`)})}catch(c){return r(c)}return o&&o.then?o.then(void 0,r):o}(0,function(i){const r=i;return function(){if(r.status===404)return l=!0,ze(fe(n,u,{...e,recursive:!1}));throw i}()})},(a=function(){if(l)return ze(fe(n,u,{...e,recursive:!1}))}())&&a.then?a.then(f):f();var f,a},function(){return!1})});function Mn(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(s){return Promise.reject(s)}}}function ts(){}function ze(n,t){return n&&n.then?n.then(ts):Promise.resolve()}const We=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function Y(n,t,e){if(!n.s){if(e instanceof ut){if(!e.s)return void(e.o=Y.bind(null,n,t));1&t&&(t=e.s),e=e.v}if(e&&e.then)return void e.then(Y.bind(null,n,t),Y.bind(null,n,2));n.s=t,n.v=e;const s=n.o;s&&s(n)}}const ut=function(){function n(){}return n.prototype.then=function(t,e){const s=new n,l=this.s;if(l){const u=1&l?t:e;if(u){try{Y(s,1,u(this.v))}catch(f){Y(s,2,f)}return s}return this}return this.o=function(u){try{const f=u.v;1&u.s?Y(s,1,t?t(f):f):e?Y(s,1,e(f)):Y(s,2,f)}catch(f){Y(s,2,f)}},s},n}();function He(n){return n instanceof ut&&1&n.s}const fe=Mn(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e.recursive===!0)return Jr(n,t,e);const s=V({url:_(n.remoteURL,(l=F(t),l.endsWith("/")?l:l+"/")),method:"MKCOL"},n,e);var l;return Dn(U(s,n),function(u){G(n,u)})});var es=j(388),qe=j.n(es);const ns=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(s){return Promise.reject(s)}}}(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s={};if(typeof e.range=="object"&&typeof e.range.start=="number"){let a=`bytes=${e.range.start}-`;typeof e.range.end=="number"&&(a=`${a}${e.range.end}`),s.Range=a}const l=V({url:_(n.remoteURL,F(t)),method:"GET",headers:s},n,e);return f=function(a){if(G(n,a),s.Range&&a.status!==206){const i=new Error(`Invalid response code for partial request: ${a.status}`);throw i.status=a.status,i}return e.callback&&setTimeout(()=>{e.callback(a)},0),a.body},(u=U(l,n))&&u.then||(u=Promise.resolve(u)),f?u.then(f):u;var u,f}),rs=()=>{},ss=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(s){return Promise.reject(s)}}}(function(n,t,e){e.url||(e.url=_(n.remoteURL,F(t)));const s=V(e,n,{});return u=function(f){return G(n,f),f},(l=U(s,n))&&l.then||(l=Promise.resolve(l)),u?l.then(u):l;var l,u}),is=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(s){return Promise.reject(s)}}}(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=V({url:_(n.remoteURL,F(t)),method:"DELETE"},n,e);return u=function(f){G(n,f)},(l=U(s,n))&&l.then||(l=Promise.resolve(l)),u?l.then(u):l;var l,u}),os=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(s){return Promise.reject(s)}}}(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(s,l){try{var u=(f=xe(n,t,e),a=function(){return!0},i?a?a(f):f:(f&&f.then||(f=Promise.resolve(f)),a?f.then(a):f))}catch(r){return l(r)}var f,a,i;return u&&u.then?u.then(void 0,l):u}(0,function(s){if(s.status===404)return!1;throw s})});function Ut(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}const as=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(s){return Promise.reject(s)}}}(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=V({url:_(n.remoteURL,F(t),"/"),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:e.deep?"infinity":"1"}},n,e);return Ut(U(s,n),function(l){return G(n,l),Ut(l.text(),function(u){if(!u)throw new Error("Failed parsing directory contents: Empty response");return Ut(mt(u),function(f){const a=Le(t);let i=function(r,o,c){let h=arguments.length>3&&arguments[3]!==void 0&&arguments[3],d=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const g=Nt().join(o,"/"),{multistatus:{response:m}}=r,x=m.map(y=>{const p=function(A){try{return A.replace(/^https?:\/\/[^\/]+/,"")}catch(E){throw new K(E,"Failed normalising HREF")}}(y.href),{propstat:{prop:b}}=y;return Rt(b,g==="/"?decodeURIComponent(dt(p)):dt(Nt().relative(decodeURIComponent(g),decodeURIComponent(p))),h)});return d?x:x.filter(y=>y.basename&&(y.type==="file"||y.filename!==c.replace(/\/$/,"")))}(f,Le(n.remoteBasePath||n.remotePath),a,e.details,e.includeSelf);return e.glob&&(i=function(r,o){return r.filter(c=>H(c.filename,o,{matchBase:!0}))}(i,e.glob)),ot(l,i,e.details)})})})});function Ee(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(s){return Promise.reject(s)}}}const us=Ee(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=V({url:_(n.remoteURL,F(t)),method:"GET",headers:{Accept:"text/plain"},transformResponse:[cs]},n,e);return $t(U(s,n),function(l){return G(n,l),$t(l.text(),function(u){return ot(l,u,e.details)})})});function $t(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}const ls=Ee(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=V({url:_(n.remoteURL,F(t)),method:"GET"},n,e);return $t(U(s,n),function(l){let u;return G(n,l),function(f,a){var i=f();return i&&i.then?i.then(a):a()}(function(){return $t(l.arrayBuffer(),function(f){u=f})},function(){return ot(l,u,e.details)})})}),hs=Ee(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{format:s="binary"}=e;if(s!=="binary"&&s!=="text")throw new K({info:{code:nt.InvalidOutputFormat}},`Invalid output format: ${s}`);return s==="text"?us(n,t,e):ls(n,t,e)}),cs=n=>n;function fs(n){return new ye.XMLBuilder({attributeNamePrefix:"@_",format:!0,ignoreAttributes:!1,suppressEmptyNode:!0}).build(Un({lockinfo:{"@_xmlns:d":"DAV:",lockscope:{exclusive:{}},locktype:{write:{}},owner:{href:n}}},"d"))}function Un(n,t){const e={...n};for(const s in e)e.hasOwnProperty(s)&&(e[s]&&typeof e[s]=="object"&&s.indexOf(":")===-1?(e[`${t}:${s}`]=Un(e[s],t),delete e[s]):/^@_/.test(s)===!1&&(e[`${t}:${s}`]=e[s],delete e[s]));return e}function pe(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}function Vn(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(s){return Promise.reject(s)}}}const ps=Vn(function(n,t,e){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const l=V({url:_(n.remoteURL,F(t)),method:"UNLOCK",headers:{"Lock-Token":e}},n,s);return pe(U(l,n),function(u){if(G(n,u),u.status!==204&&u.status!==200)throw be(u)})}),gs=Vn(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{refreshToken:s,timeout:l=ds}=e,u={Accept:"text/plain,application/xml",Timeout:l};s&&(u.If=s);const f=V({url:_(n.remoteURL,F(t)),method:"LOCK",headers:u,data:fs(n.contactHref)},n,e);return pe(U(f,n),function(a){return G(n,a),pe(a.text(),function(i){const r=(h=i,new ye.XMLParser({removeNSPrefix:!0,parseAttributeValue:!0,parseTagValue:!0}).parse(h)),o=et().get(r,"prop.lockdiscovery.activelock.locktoken.href"),c=et().get(r,"prop.lockdiscovery.activelock.timeout");var h;if(!o)throw be(a,"No lock token received: ");return{token:o,serverTimeout:c}})})}),ds="Infinite, Second-4100000000";function Vt(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}const ms=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(s){return Promise.reject(s)}}}(function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const e=t.path||"/",s=V({url:_(n.remoteURL,e),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},n,t);return Vt(U(s,n),function(l){return G(n,l),Vt(l.text(),function(u){return Vt(mt(u),function(f){const a=function(i){try{const[r]=i.multistatus.response,{propstat:{prop:{"quota-used-bytes":o,"quota-available-bytes":c}}}=r;return o!==void 0&&c!==void 0?{used:parseInt(String(o),10),available:_n(c)}:null}catch{}return null}(f);return ot(l,a,t.details)})})})});function Gt(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}const vs=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(s){return Promise.reject(s)}}}(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:s=!1}=e,l=V({url:_(n.remoteURL,F(t)),method:"SEARCH",headers:{Accept:"text/plain,application/xml","Content-Type":n.headers["Content-Type"]||"application/xml; charset=utf-8"}},n,e);return Gt(U(l,n),function(u){return G(n,u),Gt(u.text(),function(f){return Gt(mt(f),function(a){const i=function(r,o,c){const h={truncated:!1,results:[]};return h.truncated=r.multistatus.response.some(d=>(d.status||d.propstat?.status).split(" ",3)?.[1]==="507"&&d.href.replace(/\/$/,"").endsWith(F(o).replace(/\/$/,""))),r.multistatus.response.forEach(d=>{if(d.propstat===void 0)return;const g=d.href.split("/").map(decodeURIComponent).join("/");h.results.push(Rt(d.propstat.prop,g,c))}),h}(a,t,s);return ot(u,i,s)})})})}),bs=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(s){return Promise.reject(s)}}}(function(n,t,e){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const l=V({url:_(n.remoteURL,F(t)),method:"MOVE",headers:{Destination:_(n.remoteURL,F(e)),Overwrite:s.overwrite===!1?"F":"T"}},n,s);return f=function(a){G(n,a)},(u=U(l,n))&&u.then||(u=Promise.resolve(u)),f?u.then(f):u;var u,f});var ys=j(172);const xs=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(s){return Promise.reject(s)}}}(function(n,t,e){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const{contentLength:l=!0,overwrite:u=!0}=s,f={"Content-Type":"application/octet-stream"};l===!1||(f["Content-Length"]=typeof l=="number"?`${l}`:`${function(o){if($n(o))return o.byteLength;if(Cn(o))return o.length;if(typeof o=="string")return(0,ys.d)(o);throw new K({info:{code:nt.DataTypeNoLength}},"Cannot calculate data length: Invalid type")}(e)}`),u||(f["If-None-Match"]="*");const a=V({url:_(n.remoteURL,F(t)),method:"PUT",headers:f,data:e},n,s);return r=function(o){try{G(n,o)}catch(c){const h=c;if(h.status!==412||u)throw h;return!1}return!0},(i=U(a,n))&&i.then||(i=Promise.resolve(i)),r?i.then(r):i;var i,r}),Gn=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(s){return Promise.reject(s)}}}(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=V({url:_(n.remoteURL,F(t)),method:"OPTIONS"},n,e);return u=function(f){try{G(n,f)}catch(a){throw a}return{compliance:(f.headers.get("DAV")??"").split(",").map(a=>a.trim()),server:f.headers.get("Server")??""}},(l=U(s,n))&&l.then||(l=Promise.resolve(l)),u?l.then(u):l;var l,u});function gt(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}const Es=we(function(n,t,e,s,l){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(e>s||e<0)throw new K({info:{code:nt.InvalidUpdateRange}},`Invalid update range ${e} for partial update`);const f={"Content-Type":"application/octet-stream","Content-Length":""+(s-e+1),"Content-Range":`bytes ${e}-${s}/*`},a=V({url:_(n.remoteURL,F(t)),method:"PUT",headers:f,data:l},n,u);return gt(U(a,n),function(i){G(n,i)})});function Ze(n,t){var e=n();return e&&e.then?e.then(t):t(e)}const ws=we(function(n,t,e,s,l){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(e>s||e<0)throw new K({info:{code:nt.InvalidUpdateRange}},`Invalid update range ${e} for partial update`);const f={"Content-Type":"application/x-sabredav-partialupdate","Content-Length":""+(s-e+1),"X-Update-Range":`bytes=${e}-${s}`},a=V({url:_(n.remoteURL,F(t)),method:"PATCH",headers:f,data:l},n,u);return gt(U(a,n),function(i){G(n,i)})});function we(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(s){return Promise.reject(s)}}}const Ns=we(function(n,t,e,s,l){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return gt(Gn(n,t,u),function(f){let a=!1;return Ze(function(){if(f.compliance.includes("sabredav-partialupdate"))return gt(ws(n,t,e,s,l,u),function(i){return a=!0,i})},function(i){let r=!1;return a?i:Ze(function(){if(f.server.includes("Apache")&&f.compliance.includes("<http://apache.org/dav/propset/fs/1>"))return gt(Es(n,t,e,s,l,u),function(o){return r=!0,o})},function(o){if(r)return o;throw new K({info:{code:nt.NotSupported}},"Not supported")})})})}),As="https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md";function Os(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{authType:e=null,remoteBasePath:s,contactHref:l=As,ha1:u,headers:f={},httpAgent:a,httpsAgent:i,password:r,token:o,username:c,withCredentials:h}=t;let d=e;d||(d=c||r?Z.Password:Z.None);const g={authType:d,remoteBasePath:s,contactHref:l,ha1:u,headers:Object.assign({},f),httpAgent:a,httpsAgent:i,password:r,remotePath:pr(n),remoteURL:n,token:o,username:c,withCredentials:h};return Tn(g,c,r,o,u),{copyFile:(m,x,y)=>Kr(g,m,x,y),createDirectory:(m,x)=>fe(g,m,x),createReadStream:(m,x)=>function(y,p){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const A=new(qe()).PassThrough;return ns(y,p,b).then(E=>{E.pipe(A)}).catch(E=>{A.emit("error",E)}),A}(g,m,x),createWriteStream:(m,x,y)=>function(p,b){let A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:rs;const v=new(qe()).PassThrough,N={};A.overwrite===!1&&(N["If-None-Match"]="*");const w=V({url:_(p.remoteURL,F(b)),method:"PUT",headers:N,data:v,maxRedirects:0},p,A);return U(w,p).then(O=>G(p,O)).then(O=>{setTimeout(()=>{E(O)},0)}).catch(O=>{v.emit("error",O)}),v}(g,m,x,y),customRequest:(m,x)=>ss(g,m,x),deleteFile:(m,x)=>is(g,m,x),exists:(m,x)=>os(g,m,x),getDirectoryContents:(m,x)=>as(g,m,x),getFileContents:(m,x)=>hs(g,m,x),getFileDownloadLink:m=>function(x,y){let p=_(x.remoteURL,F(y));const b=/^https:/i.test(p)?"https":"http";switch(x.authType){case Z.None:break;case Z.Password:{const A=ke(x.headers.Authorization.replace(/^Basic /i,"").trim());p=p.replace(/^https?:\/\//,`${b}://${A}@`);break}default:throw new K({info:{code:nt.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${x.authType}`)}return p}(g,m),getFileUploadLink:m=>function(x,y){let p=`${_(x.remoteURL,F(y))}?Content-Type=application/octet-stream`;const b=/^https:/i.test(p)?"https":"http";switch(x.authType){case Z.None:break;case Z.Password:{const A=ke(x.headers.Authorization.replace(/^Basic /i,"").trim());p=p.replace(/^https?:\/\//,`${b}://${A}@`);break}default:throw new K({info:{code:nt.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${x.authType}`)}return p}(g,m),getHeaders:()=>Object.assign({},g.headers),getQuota:m=>ms(g,m),lock:(m,x)=>gs(g,m,x),moveFile:(m,x,y)=>bs(g,m,x,y),putFileContents:(m,x,y)=>xs(g,m,x,y),partialUpdateFileContents:(m,x,y,p,b)=>Ns(g,m,x,y,p,b),getDAVCompliance:m=>Gn(g,m),search:(m,x)=>vs(g,m,x),setHeaders:m=>{g.headers=Object.assign({},m)},stat:(m,x)=>xe(g,m,x),unlock:(m,x,y)=>ps(g,m,x,y)}}J.hT,J.O4,J.Kd,J.YK,J.UU,J.Gu,J.ky,J.h4,J.ch,J.hq,J.i5;const Ye=Yn().setApp("@nextcloud/files").detectUser().build();function Ts(){return wn()?`/files/${er()}`:`/files/${Kn()?.uid}`}Ts();function Is(){const n=Qn("dav");return wn()?n.replace("remote.php","public.php"):n}Is();var Bt={},Bn=(n=>(n.DEFAULT="default",n.HIDDEN="hidden",n))(Bn||{});const Ps=function(n){if(typeof window._nc_fileactions>"u"&&(window._nc_fileactions=[],Ye.debug("FileActions initialized")),window._nc_fileactions.find(t=>t.id===n.id)){Ye.error(`FileAction ${n.id} already registered`,{action:n});return}window._nc_fileactions.push(n)};var Xt={},Ke={},Qe;function Ne(){return Qe||(Qe=1,function(n){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",e=t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",s="["+t+"]["+e+"]*",l=new RegExp("^"+s+"$"),u=function(a,i){const r=[];let o=i.exec(a);for(;o;){const c=[];c.startIndex=i.lastIndex-o[0].length;const h=o.length;for(let d=0;d<h;d++)c.push(o[d]);r.push(c),o=i.exec(a)}return r},f=function(a){const i=l.exec(a);return!(i===null||typeof i>"u")};n.isExist=function(a){return typeof a<"u"},n.isEmptyObject=function(a){return Object.keys(a).length===0},n.merge=function(a,i,r){if(i){const o=Object.keys(i),c=o.length;for(let h=0;h<c;h++)r==="strict"?a[o[h]]=[i[o[h]]]:a[o[h]]=i[o[h]]}},n.getValue=function(a){return n.isExist(a)?a:""},n.isName=f,n.getAllMatches=u,n.nameRegexp=s}(Ke)),Ke}var Je;function Xn(){if(Je)return Xt;Je=1;const n=Ne(),t={allowBooleanAttributes:!1,unpairedTags:[]};Xt.validate=function(y,p){p=Object.assign({},t,p);const b=[];let A=!1,E=!1;y[0]==="\uFEFF"&&(y=y.substr(1));for(let v=0;v<y.length;v++)if(y[v]==="<"&&y[v+1]==="?"){if(v+=2,v=s(y,v),v.err)return v}else if(y[v]==="<"){let N=v;if(v++,y[v]==="!"){v=l(y,v);continue}else{let w=!1;y[v]==="/"&&(w=!0,v++);let O="";for(;v<y.length&&y[v]!==">"&&y[v]!==" "&&y[v]!=="	"&&y[v]!==`
`&&y[v]!=="\r";v++)O+=y[v];if(O=O.trim(),O[O.length-1]==="/"&&(O=O.substring(0,O.length-1),v--),!g(O)){let $;return O.trim().length===0?$="Invalid space after '<'.":$="Tag '"+O+"' is an invalid name.",h("InvalidTag",$,m(y,v))}const I=a(y,v);if(I===!1)return h("InvalidAttr","Attributes for '"+O+"' have open quote.",m(y,v));let P=I.value;if(v=I.index,P[P.length-1]==="/"){const $=v-P.length;P=P.substring(0,P.length-1);const T=r(P,p);if(T===!0)A=!0;else return h(T.err.code,T.err.msg,m(y,$+T.err.line))}else if(w)if(I.tagClosed){if(P.trim().length>0)return h("InvalidTag","Closing tag '"+O+"' can't have attributes or invalid starting.",m(y,N));if(b.length===0)return h("InvalidTag","Closing tag '"+O+"' has not been opened.",m(y,N));{const $=b.pop();if(O!==$.tagName){let T=m(y,$.tagStartPos);return h("InvalidTag","Expected closing tag '"+$.tagName+"' (opened in line "+T.line+", col "+T.col+") instead of closing tag '"+O+"'.",m(y,N))}b.length==0&&(E=!0)}}else return h("InvalidTag","Closing tag '"+O+"' doesn't have proper closing.",m(y,v));else{const $=r(P,p);if($!==!0)return h($.err.code,$.err.msg,m(y,v-P.length+$.err.line));if(E===!0)return h("InvalidXml","Multiple possible root nodes found.",m(y,v));p.unpairedTags.indexOf(O)!==-1||b.push({tagName:O,tagStartPos:N}),A=!0}for(v++;v<y.length;v++)if(y[v]==="<")if(y[v+1]==="!"){v++,v=l(y,v);continue}else if(y[v+1]==="?"){if(v=s(y,++v),v.err)return v}else break;else if(y[v]==="&"){const $=c(y,v);if($==-1)return h("InvalidChar","char '&' is not expected.",m(y,v));v=$}else if(E===!0&&!e(y[v]))return h("InvalidXml","Extra text at the end",m(y,v));y[v]==="<"&&v--}}else{if(e(y[v]))continue;return h("InvalidChar","char '"+y[v]+"' is not expected.",m(y,v))}if(A){if(b.length==1)return h("InvalidTag","Unclosed tag '"+b[0].tagName+"'.",m(y,b[0].tagStartPos));if(b.length>0)return h("InvalidXml","Invalid '"+JSON.stringify(b.map(v=>v.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return h("InvalidXml","Start tag expected.",1);return!0};function e(y){return y===" "||y==="	"||y===`
`||y==="\r"}function s(y,p){const b=p;for(;p<y.length;p++)if(y[p]=="?"||y[p]==" "){const A=y.substr(b,p-b);if(p>5&&A==="xml")return h("InvalidXml","XML declaration allowed only at the start of the document.",m(y,p));if(y[p]=="?"&&y[p+1]==">"){p++;break}else continue}return p}function l(y,p){if(y.length>p+5&&y[p+1]==="-"&&y[p+2]==="-"){for(p+=3;p<y.length;p++)if(y[p]==="-"&&y[p+1]==="-"&&y[p+2]===">"){p+=2;break}}else if(y.length>p+8&&y[p+1]==="D"&&y[p+2]==="O"&&y[p+3]==="C"&&y[p+4]==="T"&&y[p+5]==="Y"&&y[p+6]==="P"&&y[p+7]==="E"){let b=1;for(p+=8;p<y.length;p++)if(y[p]==="<")b++;else if(y[p]===">"&&(b--,b===0))break}else if(y.length>p+9&&y[p+1]==="["&&y[p+2]==="C"&&y[p+3]==="D"&&y[p+4]==="A"&&y[p+5]==="T"&&y[p+6]==="A"&&y[p+7]==="["){for(p+=8;p<y.length;p++)if(y[p]==="]"&&y[p+1]==="]"&&y[p+2]===">"){p+=2;break}}return p}const u='"',f="'";function a(y,p){let b="",A="",E=!1;for(;p<y.length;p++){if(y[p]===u||y[p]===f)A===""?A=y[p]:A!==y[p]||(A="");else if(y[p]===">"&&A===""){E=!0;break}b+=y[p]}return A!==""?!1:{value:b,index:p,tagClosed:E}}const i=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function r(y,p){const b=n.getAllMatches(y,i),A={};for(let E=0;E<b.length;E++){if(b[E][1].length===0)return h("InvalidAttr","Attribute '"+b[E][2]+"' has no space in starting.",x(b[E]));if(b[E][3]!==void 0&&b[E][4]===void 0)return h("InvalidAttr","Attribute '"+b[E][2]+"' is without value.",x(b[E]));if(b[E][3]===void 0&&!p.allowBooleanAttributes)return h("InvalidAttr","boolean attribute '"+b[E][2]+"' is not allowed.",x(b[E]));const v=b[E][2];if(!d(v))return h("InvalidAttr","Attribute '"+v+"' is an invalid name.",x(b[E]));if(!A.hasOwnProperty(v))A[v]=1;else return h("InvalidAttr","Attribute '"+v+"' is repeated.",x(b[E]))}return!0}function o(y,p){let b=/\d/;for(y[p]==="x"&&(p++,b=/[\da-fA-F]/);p<y.length;p++){if(y[p]===";")return p;if(!y[p].match(b))break}return-1}function c(y,p){if(p++,y[p]===";")return-1;if(y[p]==="#")return p++,o(y,p);let b=0;for(;p<y.length;p++,b++)if(!(y[p].match(/\w/)&&b<20)){if(y[p]===";")break;return-1}return p}function h(y,p,b){return{err:{code:y,msg:p,line:b.line||b,col:b.col}}}function d(y){return n.isName(y)}function g(y){return n.isName(y)}function m(y,p){const b=y.substring(0,p).split(/\r?\n/);return{line:b.length,col:b[b.length-1].length+1}}function x(y){return y.startIndex+y[1].length}return Xt}var Et={},tn;function $s(){if(tn)return Et;tn=1;const n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,s){return s},attributeValueProcessor:function(e,s){return s},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,s,l){return e}},t=function(e){return Object.assign({},n,e)};return Et.buildOptions=t,Et.defaultOptions=n,Et}var zt,en;function Cs(){if(en)return zt;en=1;class n{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,s){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:s})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}return zt=n,zt}var Wt,nn;function Rs(){if(nn)return Wt;nn=1;const n=Ne();function t(i,r){const o={};if(i[r+3]==="O"&&i[r+4]==="C"&&i[r+5]==="T"&&i[r+6]==="Y"&&i[r+7]==="P"&&i[r+8]==="E"){r=r+9;let c=1,h=!1,d=!1,g="";for(;r<i.length;r++)if(i[r]==="<"&&!d){if(h&&s(i,r)){r+=7;let m,x;[m,x,r]=e(i,r+1),x.indexOf("&")===-1&&(o[a(m)]={regx:RegExp(`&${m};`,"g"),val:x})}else h&&l(i,r)||h&&u(i,r)?r+=8:h&&f(i,r)?r+=9:d=!0;c++,g=""}else if(i[r]===">"){if(d?i[r-1]==="-"&&i[r-2]==="-"&&(d=!1,c--):c--,c===0)break}else i[r]==="["?h=!0:g+=i[r];if(c!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:o,i:r}}function e(i,r){let o="";for(;r<i.length&&i[r]!=="'"&&i[r]!=='"';r++)o+=i[r];if(o=o.trim(),o.indexOf(" ")!==-1)throw new Error("External entites are not supported");const c=i[r++];let h="";for(;r<i.length&&i[r]!==c;r++)h+=i[r];return[o,h,r]}function s(i,r){return i[r+1]==="!"&&i[r+2]==="E"&&i[r+3]==="N"&&i[r+4]==="T"&&i[r+5]==="I"&&i[r+6]==="T"&&i[r+7]==="Y"}function l(i,r){return i[r+1]==="!"&&i[r+2]==="E"&&i[r+3]==="L"&&i[r+4]==="E"&&i[r+5]==="M"&&i[r+6]==="E"&&i[r+7]==="N"&&i[r+8]==="T"}function u(i,r){return i[r+1]==="!"&&i[r+2]==="A"&&i[r+3]==="T"&&i[r+4]==="T"&&i[r+5]==="L"&&i[r+6]==="I"&&i[r+7]==="S"&&i[r+8]==="T"}function f(i,r){return i[r+1]==="!"&&i[r+2]==="N"&&i[r+3]==="O"&&i[r+4]==="T"&&i[r+5]==="A"&&i[r+6]==="T"&&i[r+7]==="I"&&i[r+8]==="O"&&i[r+9]==="N"}function a(i){if(n.isName(i))return i;throw new Error(`Invalid entity name ${i}`)}return Wt=t,Wt}var Ht,rn;function Ss(){if(rn)return Ht;rn=1;const n=/^[-+]?0x[a-fA-F0-9]+$/,t=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const e={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function s(u,f={}){if(f=Object.assign({},e,f),!u||typeof u!="string")return u;let a=u.trim();if(f.skipLike!==void 0&&f.skipLike.test(a))return u;if(f.hex&&n.test(a))return Number.parseInt(a,16);{const i=t.exec(a);if(i){const r=i[1],o=i[2];let c=l(i[3]);const h=i[4]||i[6];if(!f.leadingZeros&&o.length>0&&r&&a[2]!=="."||!f.leadingZeros&&o.length>0&&!r&&a[1]!==".")return u;{const d=Number(a),g=""+d;return g.search(/[eE]/)!==-1||h?f.eNotation?d:u:a.indexOf(".")!==-1?g==="0"&&c===""||g===c||r&&g==="-"+c?d:u:o?c===g||r+c===g?d:u:a===g||a===r+g?d:u}}else return u}}function l(u){return u&&u.indexOf(".")!==-1&&(u=u.replace(/0+$/,""),u==="."?u="0":u[0]==="."?u="0"+u:u[u.length-1]==="."&&(u=u.substr(0,u.length-1))),u}return Ht=s,Ht}var qt,sn;function zn(){if(sn)return qt;sn=1;function n(t){return typeof t=="function"?t:Array.isArray(t)?e=>{for(const s of t)if(typeof s=="string"&&e===s||s instanceof RegExp&&s.test(e))return!0}:()=>!1}return qt=n,qt}var Zt,on;function Ls(){if(on)return Zt;on=1;const n=Ne(),t=Cs(),e=Rs(),s=Ss(),l=zn();class u{constructor(v){this.options=v,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(N,w)=>String.fromCharCode(Number.parseInt(w,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(N,w)=>String.fromCharCode(Number.parseInt(w,16))}},this.addExternalEntities=f,this.parseXml=c,this.parseTextData=a,this.resolveNameSpace=i,this.buildAttributesMap=o,this.isItStopNode=m,this.replaceEntitiesValue=d,this.readStopNodeData=b,this.saveTextToParentTag=g,this.addChild=h,this.ignoreAttributesFn=l(this.options.ignoreAttributes)}}function f(E){const v=Object.keys(E);for(let N=0;N<v.length;N++){const w=v[N];this.lastEntities[w]={regex:new RegExp("&"+w+";","g"),val:E[w]}}}function a(E,v,N,w,O,I,P){if(E!==void 0&&(this.options.trimValues&&!w&&(E=E.trim()),E.length>0)){P||(E=this.replaceEntitiesValue(E));const $=this.options.tagValueProcessor(v,E,N,O,I);return $==null?E:typeof $!=typeof E||$!==E?$:this.options.trimValues?A(E,this.options.parseTagValue,this.options.numberParseOptions):E.trim()===E?A(E,this.options.parseTagValue,this.options.numberParseOptions):E}}function i(E){if(this.options.removeNSPrefix){const v=E.split(":"),N=E.charAt(0)==="/"?"/":"";if(v[0]==="xmlns")return"";v.length===2&&(E=N+v[1])}return E}const r=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function o(E,v,N){if(this.options.ignoreAttributes!==!0&&typeof E=="string"){const w=n.getAllMatches(E,r),O=w.length,I={};for(let P=0;P<O;P++){const $=this.resolveNameSpace(w[P][1]);if(this.ignoreAttributesFn($,v))continue;let T=w[P][4],C=this.options.attributeNamePrefix+$;if($.length)if(this.options.transformAttributeName&&(C=this.options.transformAttributeName(C)),C==="__proto__"&&(C="#__proto__"),T!==void 0){this.options.trimValues&&(T=T.trim()),T=this.replaceEntitiesValue(T);const R=this.options.attributeValueProcessor($,T,v);R==null?I[C]=T:typeof R!=typeof T||R!==T?I[C]=R:I[C]=A(T,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(I[C]=!0)}if(!Object.keys(I).length)return;if(this.options.attributesGroupName){const P={};return P[this.options.attributesGroupName]=I,P}return I}}const c=function(E){E=E.replace(/\r\n?/g,`
`);const v=new t("!xml");let N=v,w="",O="";for(let I=0;I<E.length;I++)if(E[I]==="<")if(E[I+1]==="/"){const P=y(E,">",I,"Closing Tag is not closed.");let $=E.substring(I+2,P).trim();if(this.options.removeNSPrefix){const R=$.indexOf(":");R!==-1&&($=$.substr(R+1))}this.options.transformTagName&&($=this.options.transformTagName($)),N&&(w=this.saveTextToParentTag(w,N,O));const T=O.substring(O.lastIndexOf(".")+1);if($&&this.options.unpairedTags.indexOf($)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${$}>`);let C=0;T&&this.options.unpairedTags.indexOf(T)!==-1?(C=O.lastIndexOf(".",O.lastIndexOf(".")-1),this.tagsNodeStack.pop()):C=O.lastIndexOf("."),O=O.substring(0,C),N=this.tagsNodeStack.pop(),w="",I=P}else if(E[I+1]==="?"){let P=p(E,I,!1,"?>");if(!P)throw new Error("Pi Tag is not closed.");if(w=this.saveTextToParentTag(w,N,O),!(this.options.ignoreDeclaration&&P.tagName==="?xml"||this.options.ignorePiTags)){const $=new t(P.tagName);$.add(this.options.textNodeName,""),P.tagName!==P.tagExp&&P.attrExpPresent&&($[":@"]=this.buildAttributesMap(P.tagExp,O,P.tagName)),this.addChild(N,$,O)}I=P.closeIndex+1}else if(E.substr(I+1,3)==="!--"){const P=y(E,"-->",I+4,"Comment is not closed.");if(this.options.commentPropName){const $=E.substring(I+4,P-2);w=this.saveTextToParentTag(w,N,O),N.add(this.options.commentPropName,[{[this.options.textNodeName]:$}])}I=P}else if(E.substr(I+1,2)==="!D"){const P=e(E,I);this.docTypeEntities=P.entities,I=P.i}else if(E.substr(I+1,2)==="!["){const P=y(E,"]]>",I,"CDATA is not closed.")-2,$=E.substring(I+9,P);w=this.saveTextToParentTag(w,N,O);let T=this.parseTextData($,N.tagname,O,!0,!1,!0,!0);T==null&&(T=""),this.options.cdataPropName?N.add(this.options.cdataPropName,[{[this.options.textNodeName]:$}]):N.add(this.options.textNodeName,T),I=P+2}else{let P=p(E,I,this.options.removeNSPrefix),$=P.tagName;const T=P.rawTagName;let C=P.tagExp,R=P.attrExpPresent,S=P.closeIndex;this.options.transformTagName&&($=this.options.transformTagName($)),N&&w&&N.tagname!=="!xml"&&(w=this.saveTextToParentTag(w,N,O,!1));const D=N;if(D&&this.options.unpairedTags.indexOf(D.tagname)!==-1&&(N=this.tagsNodeStack.pop(),O=O.substring(0,O.lastIndexOf("."))),$!==v.tagname&&(O+=O?"."+$:$),this.isItStopNode(this.options.stopNodes,O,$)){let L="";if(C.length>0&&C.lastIndexOf("/")===C.length-1)$[$.length-1]==="/"?($=$.substr(0,$.length-1),O=O.substr(0,O.length-1),C=$):C=C.substr(0,C.length-1),I=P.closeIndex;else if(this.options.unpairedTags.indexOf($)!==-1)I=P.closeIndex;else{const z=this.readStopNodeData(E,T,S+1);if(!z)throw new Error(`Unexpected end of ${T}`);I=z.i,L=z.tagContent}const k=new t($);$!==C&&R&&(k[":@"]=this.buildAttributesMap(C,O,$)),L&&(L=this.parseTextData(L,$,O,!0,R,!0,!0)),O=O.substr(0,O.lastIndexOf(".")),k.add(this.options.textNodeName,L),this.addChild(N,k,O)}else{if(C.length>0&&C.lastIndexOf("/")===C.length-1){$[$.length-1]==="/"?($=$.substr(0,$.length-1),O=O.substr(0,O.length-1),C=$):C=C.substr(0,C.length-1),this.options.transformTagName&&($=this.options.transformTagName($));const L=new t($);$!==C&&R&&(L[":@"]=this.buildAttributesMap(C,O,$)),this.addChild(N,L,O),O=O.substr(0,O.lastIndexOf("."))}else{const L=new t($);this.tagsNodeStack.push(N),$!==C&&R&&(L[":@"]=this.buildAttributesMap(C,O,$)),this.addChild(N,L,O),N=L}w="",I=S}}else w+=E[I];return v.child};function h(E,v,N){const w=this.options.updateTag(v.tagname,N,v[":@"]);w===!1||(typeof w=="string"&&(v.tagname=w),E.addChild(v))}const d=function(E){if(this.options.processEntities){for(let v in this.docTypeEntities){const N=this.docTypeEntities[v];E=E.replace(N.regx,N.val)}for(let v in this.lastEntities){const N=this.lastEntities[v];E=E.replace(N.regex,N.val)}if(this.options.htmlEntities)for(let v in this.htmlEntities){const N=this.htmlEntities[v];E=E.replace(N.regex,N.val)}E=E.replace(this.ampEntity.regex,this.ampEntity.val)}return E};function g(E,v,N,w){return E&&(w===void 0&&(w=Object.keys(v.child).length===0),E=this.parseTextData(E,v.tagname,N,!1,v[":@"]?Object.keys(v[":@"]).length!==0:!1,w),E!==void 0&&E!==""&&v.add(this.options.textNodeName,E),E=""),E}function m(E,v,N){const w="*."+N;for(const O in E){const I=E[O];if(w===I||v===I)return!0}return!1}function x(E,v,N=">"){let w,O="";for(let I=v;I<E.length;I++){let P=E[I];if(w)P===w&&(w="");else if(P==='"'||P==="'")w=P;else if(P===N[0])if(N[1]){if(E[I+1]===N[1])return{data:O,index:I}}else return{data:O,index:I};else P==="	"&&(P=" ");O+=P}}function y(E,v,N,w){const O=E.indexOf(v,N);if(O===-1)throw new Error(w);return O+v.length-1}function p(E,v,N,w=">"){const O=x(E,v+1,w);if(!O)return;let I=O.data;const P=O.index,$=I.search(/\s/);let T=I,C=!0;$!==-1&&(T=I.substring(0,$),I=I.substring($+1).trimStart());const R=T;if(N){const S=T.indexOf(":");S!==-1&&(T=T.substr(S+1),C=T!==O.data.substr(S+1))}return{tagName:T,tagExp:I,closeIndex:P,attrExpPresent:C,rawTagName:R}}function b(E,v,N){const w=N;let O=1;for(;N<E.length;N++)if(E[N]==="<")if(E[N+1]==="/"){const I=y(E,">",N,`${v} is not closed`);if(E.substring(N+2,I).trim()===v&&(O--,O===0))return{tagContent:E.substring(w,N),i:I};N=I}else if(E[N+1]==="?")N=y(E,"?>",N+1,"StopNode is not closed.");else if(E.substr(N+1,3)==="!--")N=y(E,"-->",N+3,"StopNode is not closed.");else if(E.substr(N+1,2)==="![")N=y(E,"]]>",N,"StopNode is not closed.")-2;else{const I=p(E,N,">");I&&((I&&I.tagName)===v&&I.tagExp[I.tagExp.length-1]!=="/"&&O++,N=I.closeIndex)}}function A(E,v,N){if(v&&typeof E=="string"){const w=E.trim();return w==="true"?!0:w==="false"?!1:s(E,N)}else return n.isExist(E)?E:""}return Zt=u,Zt}var Yt={},an;function js(){if(an)return Yt;an=1;function n(u,f){return t(u,f)}function t(u,f,a){let i;const r={};for(let o=0;o<u.length;o++){const c=u[o],h=e(c);let d="";if(a===void 0?d=h:d=a+"."+h,h===f.textNodeName)i===void 0?i=c[h]:i+=""+c[h];else{if(h===void 0)continue;if(c[h]){let g=t(c[h],f,d);const m=l(g,f);c[":@"]?s(g,c[":@"],d,f):Object.keys(g).length===1&&g[f.textNodeName]!==void 0&&!f.alwaysCreateTextNode?g=g[f.textNodeName]:Object.keys(g).length===0&&(f.alwaysCreateTextNode?g[f.textNodeName]="":g=""),r[h]!==void 0&&r.hasOwnProperty(h)?(Array.isArray(r[h])||(r[h]=[r[h]]),r[h].push(g)):f.isArray(h,d,m)?r[h]=[g]:r[h]=g}}}return typeof i=="string"?i.length>0&&(r[f.textNodeName]=i):i!==void 0&&(r[f.textNodeName]=i),r}function e(u){const f=Object.keys(u);for(let a=0;a<f.length;a++){const i=f[a];if(i!==":@")return i}}function s(u,f,a,i){if(f){const r=Object.keys(f),o=r.length;for(let c=0;c<o;c++){const h=r[c];i.isArray(h,a+"."+h,!0,!0)?u[h]=[f[h]]:u[h]=f[h]}}}function l(u,f){const{textNodeName:a}=f,i=Object.keys(u).length;return!!(i===0||i===1&&(u[a]||typeof u[a]=="boolean"||u[a]===0))}return Yt.prettify=n,Yt}var Kt,un;function ks(){if(un)return Kt;un=1;const{buildOptions:n}=$s(),t=Ls(),{prettify:e}=js(),s=Xn();class l{constructor(f){this.externalEntities={},this.options=n(f)}parse(f,a){if(typeof f!="string")if(f.toString)f=f.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(a){a===!0&&(a={});const o=s.validate(f,a);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}const i=new t(this.options);i.addExternalEntities(this.externalEntities);const r=i.parseXml(f);return this.options.preserveOrder||r===void 0?r:e(r,this.options)}addEntity(f,a){if(a.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(f.indexOf("&")!==-1||f.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(a==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[f]=a}}return Kt=l,Kt}var Qt,ln;function Fs(){if(ln)return Qt;ln=1;const n=`
`;function t(a,i){let r="";return i.format&&i.indentBy.length>0&&(r=n),e(a,i,"",r)}function e(a,i,r,o){let c="",h=!1;for(let d=0;d<a.length;d++){const g=a[d],m=s(g);if(m===void 0)continue;let x="";if(r.length===0?x=m:x=`${r}.${m}`,m===i.textNodeName){let E=g[m];u(x,i)||(E=i.tagValueProcessor(m,E),E=f(E,i)),h&&(c+=o),c+=E,h=!1;continue}else if(m===i.cdataPropName){h&&(c+=o),c+=`<![CDATA[${g[m][0][i.textNodeName]}]]>`,h=!1;continue}else if(m===i.commentPropName){c+=o+`<!--${g[m][0][i.textNodeName]}-->`,h=!0;continue}else if(m[0]==="?"){const E=l(g[":@"],i),v=m==="?xml"?"":o;let N=g[m][0][i.textNodeName];N=N.length!==0?" "+N:"",c+=v+`<${m}${N}${E}?>`,h=!0;continue}let y=o;y!==""&&(y+=i.indentBy);const p=l(g[":@"],i),b=o+`<${m}${p}`,A=e(g[m],i,x,y);i.unpairedTags.indexOf(m)!==-1?i.suppressUnpairedNode?c+=b+">":c+=b+"/>":(!A||A.length===0)&&i.suppressEmptyNode?c+=b+"/>":A&&A.endsWith(">")?c+=b+`>${A}${o}</${m}>`:(c+=b+">",A&&o!==""&&(A.includes("/>")||A.includes("</"))?c+=o+i.indentBy+A+o:c+=A,c+=`</${m}>`),h=!0}return c}function s(a){const i=Object.keys(a);for(let r=0;r<i.length;r++){const o=i[r];if(a.hasOwnProperty(o)&&o!==":@")return o}}function l(a,i){let r="";if(a&&!i.ignoreAttributes)for(let o in a){if(!a.hasOwnProperty(o))continue;let c=i.attributeValueProcessor(o,a[o]);c=f(c,i),c===!0&&i.suppressBooleanAttributes?r+=` ${o.substr(i.attributeNamePrefix.length)}`:r+=` ${o.substr(i.attributeNamePrefix.length)}="${c}"`}return r}function u(a,i){a=a.substr(0,a.length-i.textNodeName.length-1);let r=a.substr(a.lastIndexOf(".")+1);for(let o in i.stopNodes)if(i.stopNodes[o]===a||i.stopNodes[o]==="*."+r)return!0;return!1}function f(a,i){if(a&&a.length>0&&i.processEntities)for(let r=0;r<i.entities.length;r++){const o=i.entities[r];a=a.replace(o.regex,o.val)}return a}return Qt=t,Qt}var Jt,hn;function _s(){if(hn)return Jt;hn=1;const n=Fs(),t=zn(),e={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(a,i){return i},attributeValueProcessor:function(a,i){return i},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function s(a){this.options=Object.assign({},e,a),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=t(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=f),this.processTextOrObjNode=l,this.options.format?(this.indentate=u,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}s.prototype.build=function(a){return this.options.preserveOrder?n(a,this.options):(Array.isArray(a)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(a={[this.options.arrayNodeName]:a}),this.j2x(a,0,[]).val)},s.prototype.j2x=function(a,i,r){let o="",c="";const h=r.join(".");for(let d in a)if(Object.prototype.hasOwnProperty.call(a,d))if(typeof a[d]>"u")this.isAttribute(d)&&(c+="");else if(a[d]===null)this.isAttribute(d)?c+="":d[0]==="?"?c+=this.indentate(i)+"<"+d+"?"+this.tagEndChar:c+=this.indentate(i)+"<"+d+"/"+this.tagEndChar;else if(a[d]instanceof Date)c+=this.buildTextValNode(a[d],d,"",i);else if(typeof a[d]!="object"){const g=this.isAttribute(d);if(g&&!this.ignoreAttributesFn(g,h))o+=this.buildAttrPairStr(g,""+a[d]);else if(!g)if(d===this.options.textNodeName){let m=this.options.tagValueProcessor(d,""+a[d]);c+=this.replaceEntitiesValue(m)}else c+=this.buildTextValNode(a[d],d,"",i)}else if(Array.isArray(a[d])){const g=a[d].length;let m="",x="";for(let y=0;y<g;y++){const p=a[d][y];if(!(typeof p>"u"))if(p===null)d[0]==="?"?c+=this.indentate(i)+"<"+d+"?"+this.tagEndChar:c+=this.indentate(i)+"<"+d+"/"+this.tagEndChar;else if(typeof p=="object")if(this.options.oneListGroup){const b=this.j2x(p,i+1,r.concat(d));m+=b.val,this.options.attributesGroupName&&p.hasOwnProperty(this.options.attributesGroupName)&&(x+=b.attrStr)}else m+=this.processTextOrObjNode(p,d,i,r);else if(this.options.oneListGroup){let b=this.options.tagValueProcessor(d,p);b=this.replaceEntitiesValue(b),m+=b}else m+=this.buildTextValNode(p,d,"",i)}this.options.oneListGroup&&(m=this.buildObjectNode(m,d,x,i)),c+=m}else if(this.options.attributesGroupName&&d===this.options.attributesGroupName){const g=Object.keys(a[d]),m=g.length;for(let x=0;x<m;x++)o+=this.buildAttrPairStr(g[x],""+a[d][g[x]])}else c+=this.processTextOrObjNode(a[d],d,i,r);return{attrStr:o,val:c}},s.prototype.buildAttrPairStr=function(a,i){return i=this.options.attributeValueProcessor(a,""+i),i=this.replaceEntitiesValue(i),this.options.suppressBooleanAttributes&&i==="true"?" "+a:" "+a+'="'+i+'"'};function l(a,i,r,o){const c=this.j2x(a,r+1,o.concat(i));return a[this.options.textNodeName]!==void 0&&Object.keys(a).length===1?this.buildTextValNode(a[this.options.textNodeName],i,c.attrStr,r):this.buildObjectNode(c.val,i,c.attrStr,r)}s.prototype.buildObjectNode=function(a,i,r,o){if(a==="")return i[0]==="?"?this.indentate(o)+"<"+i+r+"?"+this.tagEndChar:this.indentate(o)+"<"+i+r+this.closeTag(i)+this.tagEndChar;{let c="</"+i+this.tagEndChar,h="";return i[0]==="?"&&(h="?",c=""),(r||r==="")&&a.indexOf("<")===-1?this.indentate(o)+"<"+i+r+h+">"+a+c:this.options.commentPropName!==!1&&i===this.options.commentPropName&&h.length===0?this.indentate(o)+`<!--${a}-->`+this.newLine:this.indentate(o)+"<"+i+r+h+this.tagEndChar+a+this.indentate(o)+c}},s.prototype.closeTag=function(a){let i="";return this.options.unpairedTags.indexOf(a)!==-1?this.options.suppressUnpairedNode||(i="/"):this.options.suppressEmptyNode?i="/":i=`></${a}`,i},s.prototype.buildTextValNode=function(a,i,r,o){if(this.options.cdataPropName!==!1&&i===this.options.cdataPropName)return this.indentate(o)+`<![CDATA[${a}]]>`+this.newLine;if(this.options.commentPropName!==!1&&i===this.options.commentPropName)return this.indentate(o)+`<!--${a}-->`+this.newLine;if(i[0]==="?")return this.indentate(o)+"<"+i+r+"?"+this.tagEndChar;{let c=this.options.tagValueProcessor(i,a);return c=this.replaceEntitiesValue(c),c===""?this.indentate(o)+"<"+i+r+this.closeTag(i)+this.tagEndChar:this.indentate(o)+"<"+i+r+">"+c+"</"+i+this.tagEndChar}},s.prototype.replaceEntitiesValue=function(a){if(a&&a.length>0&&this.options.processEntities)for(let i=0;i<this.options.entities.length;i++){const r=this.options.entities[i];a=a.replace(r.regex,r.val)}return a};function u(a){return this.options.indentBy.repeat(a)}function f(a){return a.startsWith(this.options.attributeNamePrefix)&&a!==this.options.textNodeName?a.substr(this.attrPrefixLen):!1}return Jt=s,Jt}var te,cn;function Ds(){if(cn)return te;cn=1;const n=Xn(),t=ks(),e=_s();return te={XMLParser:t,XMLValidator:n,XMLBuilder:e},te}Ds();var fn,pn;function Wn(){return pn||(pn=1,fn=typeof lt=="object"&&Bt&&Bt.NODE_DEBUG&&/\bsemver\b/i.test(Bt.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{}),fn}var ee,gn;function Hn(){if(gn)return ee;gn=1;const n="2.0.0",t=256,e=Number.MAX_SAFE_INTEGER||9007199254740991,s=16,l=t-6;return ee={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:s,MAX_SAFE_BUILD_LENGTH:l,MAX_SAFE_INTEGER:e,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:n,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},ee}var ne={exports:{}},dn;function Ms(){return dn||(dn=1,function(n,t){const{MAX_SAFE_COMPONENT_LENGTH:e,MAX_SAFE_BUILD_LENGTH:s,MAX_LENGTH:l}=Hn(),u=Wn();t=n.exports={};const f=t.re=[],a=t.safeRe=[],i=t.src=[],r=t.t={};let o=0;const c="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",l],[c,s]],d=m=>{for(const[x,y]of h)m=m.split(`${x}*`).join(`${x}{0,${y}}`).split(`${x}+`).join(`${x}{1,${y}}`);return m},g=(m,x,y)=>{const p=d(x),b=o++;u(m,b,x),r[m]=b,i[b]=x,f[b]=new RegExp(x,y?"g":void 0),a[b]=new RegExp(p,y?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${c}*`),g("MAINVERSION",`(${i[r.NUMERICIDENTIFIER]})\\.(${i[r.NUMERICIDENTIFIER]})\\.(${i[r.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${i[r.NUMERICIDENTIFIERLOOSE]})\\.(${i[r.NUMERICIDENTIFIERLOOSE]})\\.(${i[r.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${i[r.NUMERICIDENTIFIER]}|${i[r.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${i[r.NUMERICIDENTIFIERLOOSE]}|${i[r.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${i[r.PRERELEASEIDENTIFIER]}(?:\\.${i[r.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${i[r.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[r.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${c}+`),g("BUILD",`(?:\\+(${i[r.BUILDIDENTIFIER]}(?:\\.${i[r.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${i[r.MAINVERSION]}${i[r.PRERELEASE]}?${i[r.BUILD]}?`),g("FULL",`^${i[r.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${i[r.MAINVERSIONLOOSE]}${i[r.PRERELEASELOOSE]}?${i[r.BUILD]}?`),g("LOOSE",`^${i[r.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${i[r.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${i[r.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${i[r.XRANGEIDENTIFIER]})(?:\\.(${i[r.XRANGEIDENTIFIER]})(?:\\.(${i[r.XRANGEIDENTIFIER]})(?:${i[r.PRERELEASE]})?${i[r.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${i[r.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[r.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[r.XRANGEIDENTIFIERLOOSE]})(?:${i[r.PRERELEASELOOSE]})?${i[r.BUILD]}?)?)?`),g("XRANGE",`^${i[r.GTLT]}\\s*${i[r.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${i[r.GTLT]}\\s*${i[r.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${e}})(?:\\.(\\d{1,${e}}))?(?:\\.(\\d{1,${e}}))?`),g("COERCE",`${i[r.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",i[r.COERCEPLAIN]+`(?:${i[r.PRERELEASE]})?(?:${i[r.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",i[r.COERCE],!0),g("COERCERTLFULL",i[r.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${i[r.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${i[r.LONETILDE]}${i[r.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${i[r.LONETILDE]}${i[r.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${i[r.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${i[r.LONECARET]}${i[r.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${i[r.LONECARET]}${i[r.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${i[r.GTLT]}\\s*(${i[r.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${i[r.GTLT]}\\s*(${i[r.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${i[r.GTLT]}\\s*(${i[r.LOOSEPLAIN]}|${i[r.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${i[r.XRANGEPLAIN]})\\s+-\\s+(${i[r.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${i[r.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[r.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(ne,ne.exports)),ne.exports}var re,mn;function Us(){if(mn)return re;mn=1;const n=Object.freeze({loose:!0}),t=Object.freeze({});return re=e=>e?typeof e!="object"?n:e:t,re}var se,vn;function Vs(){if(vn)return se;vn=1;const n=/^[0-9]+$/,t=(e,s)=>{const l=n.test(e),u=n.test(s);return l&&u&&(e=+e,s=+s),e===s?0:l&&!u?-1:u&&!l?1:e<s?-1:1};return se={compareIdentifiers:t,rcompareIdentifiers:(e,s)=>t(s,e)},se}var ie,bn;function qn(){if(bn)return ie;bn=1;const n=Wn(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:e}=Hn(),{safeRe:s,t:l}=Ms(),u=Us(),{compareIdentifiers:f}=Vs();class a{constructor(r,o){if(o=u(o),r instanceof a){if(r.loose===!!o.loose&&r.includePrerelease===!!o.includePrerelease)return r;r=r.version}else if(typeof r!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof r}".`);if(r.length>t)throw new TypeError(`version is longer than ${t} characters`);n("SemVer",r,o),this.options=o,this.loose=!!o.loose,this.includePrerelease=!!o.includePrerelease;const c=r.trim().match(o.loose?s[l.LOOSE]:s[l.FULL]);if(!c)throw new TypeError(`Invalid Version: ${r}`);if(this.raw=r,this.major=+c[1],this.minor=+c[2],this.patch=+c[3],this.major>e||this.major<0)throw new TypeError("Invalid major version");if(this.minor>e||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>e||this.patch<0)throw new TypeError("Invalid patch version");c[4]?this.prerelease=c[4].split(".").map(h=>{if(/^[0-9]+$/.test(h)){const d=+h;if(d>=0&&d<e)return d}return h}):this.prerelease=[],this.build=c[5]?c[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(r){if(n("SemVer.compare",this.version,this.options,r),!(r instanceof a)){if(typeof r=="string"&&r===this.version)return 0;r=new a(r,this.options)}return r.version===this.version?0:this.compareMain(r)||this.comparePre(r)}compareMain(r){return r instanceof a||(r=new a(r,this.options)),f(this.major,r.major)||f(this.minor,r.minor)||f(this.patch,r.patch)}comparePre(r){if(r instanceof a||(r=new a(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;let o=0;do{const c=this.prerelease[o],h=r.prerelease[o];if(n("prerelease compare",o,c,h),c===void 0&&h===void 0)return 0;if(h===void 0)return 1;if(c===void 0)return-1;if(c!==h)return f(c,h)}while(++o)}compareBuild(r){r instanceof a||(r=new a(r,this.options));let o=0;do{const c=this.build[o],h=r.build[o];if(n("build compare",o,c,h),c===void 0&&h===void 0)return 0;if(h===void 0)return 1;if(c===void 0)return-1;if(c!==h)return f(c,h)}while(++o)}inc(r,o,c){switch(r){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",o,c);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",o,c);break;case"prepatch":this.prerelease.length=0,this.inc("patch",o,c),this.inc("pre",o,c);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",o,c),this.inc("pre",o,c);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const h=Number(c)?1:0;if(!o&&c===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[h];else{let d=this.prerelease.length;for(;--d>=0;)typeof this.prerelease[d]=="number"&&(this.prerelease[d]++,d=-2);if(d===-1){if(o===this.prerelease.join(".")&&c===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(h)}}if(o){let d=[o,h];c===!1&&(d=[o]),f(this.prerelease[0],o)===0?isNaN(this.prerelease[1])&&(this.prerelease=d):this.prerelease=d}break}default:throw new Error(`invalid increment argument: ${r}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return ie=a,ie}var oe,yn;function Gs(){if(yn)return oe;yn=1;const n=qn();return oe=(t,e,s=!1)=>{if(t instanceof n)return t;try{return new n(t,e)}catch(l){if(!s)return null;throw l}},oe}var ae,xn;function Bs(){if(xn)return ae;xn=1;const n=Gs();return ae=(t,e)=>{const s=n(t,e);return s?s.version:null},ae}Bs();var ue,En;function Xs(){if(En)return ue;En=1;const n=qn();return ue=(t,e)=>new n(t,e).major,ue}Xs();const zs=()=>`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
        <path fill="currentColor" d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
    </svg>
`;Ps({id:"subscribe_action",displayName:()=>St("extended_activity","S'abonner"),enabled:n=>n.length===1,type:Bn.Inline,iconSvgInline:zs,iconClass:"icon-activity",exec:async n=>{console.log("Action S'abonner déclenchée pour :",n.path);try{const t=Jn("/apps/extended_activity/api/subscriptions"),e={fileId:n.fileid};await tr.post(t,e),nr(St("extended_activity","Vous êtes maintenant abonné à {file}",{file:n.displayname}))}catch(t){console.error("Erreur lors de l'abonnement extended_activity:",t),rr(St("extended_activity","Impossible de s'abonner à ce fichier."))}}});
//# sourceMappingURL=extended_activity-filesPlugin.mjs.map
