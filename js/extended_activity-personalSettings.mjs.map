{"version":3,"file":"extended_activity-personalSettings.mjs","sources":["../src/views/DailySummary.vue","../src/models/EmailFrequency.js","../src/components/EmailSettings.vue","../src/views/UserSettings.vue","../src/settings-personal.ts"],"sourcesContent":["<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<NcSettingsSection :name=\"t('activity', 'Daily activity summary')\">\n\t\t<NcCheckboxRadioSwitch\n\t\t\tdata-cy-checkbox\n\t\t\tv-model=\"activityDigestEnabled\"\n\t\t\t@update:model-value=\"toggleActivityDigestEnabled({ activityDigestEnabled: $event })\">\n\t\t\t{{ t('activity', 'Send daily activity summary in the morning') }}\n\t\t</NcCheckboxRadioSwitch>\n\t</NcSettingsSection>\n</template>\n\n<script>\nimport { t } from '@nextcloud/l10n'\nimport { mapActions, mapState } from 'vuex'\nimport NcCheckboxRadioSwitch from '@nextcloud/vue/components/NcCheckboxRadioSwitch'\nimport NcSettingsSection from '@nextcloud/vue/components/NcSettingsSection'\n\nexport default {\n\tname: 'DailySummary',\n\tcomponents: {\n\t\tNcCheckboxRadioSwitch,\n\t\tNcSettingsSection,\n\t},\n\n\tcomputed: {\n\t\t...mapState(['activityDigestEnabled']),\n\t},\n\n\tmounted() {\n\t\tthis.setEndpoint({ endpoint: '/apps/extended_activity/settings' })\n\t},\n\n\tmethods: {\n\t\t...mapActions([\n\t\t\t'setEndpoint',\n\t\t\t'toggleActivityDigestEnabled',\n\t\t]),\n\n\t\tt,\n\t},\n}\n</script>\n","/**\n * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nexport default {\n\tEmailFrequency: {\n\t\tEMAIL_SEND_HOURLY: 0,\n\t\tEMAIL_SEND_DAILY: 1,\n\t\tEMAIL_SEND_WEEKLY: 2,\n\t\tEMAIL_SEND_ASAP: 3,\n\t},\n}\n","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div v-if=\"emailEnabled\">\n\t\t<p v-if=\"!isEmailSet\">\n\t\t\t<strong>{{ t('activity', 'You need to set up your email address before you can receive notification emails.') }}</strong>\n\t\t</p>\n\t\t<p>\n\t\t\t<label for=\"activity_setting_batchtime\" class=\"activity-frequency__label\">\n\t\t\t\t{{ t('activity', 'Send activity emails') }}\n\t\t\t</label>\n\t\t\t<select\n\t\t\t\tid=\"activity_setting_batchtime\"\n\t\t\t\tclass=\"notification-frequency__select\"\n\t\t\t\tname=\"activity_setting_batchtime\"\n\t\t\t\t@change=\"setSettingBatchtime({ settingBatchtime: $event.target.value })\">\n\t\t\t\t<option\n\t\t\t\t\t:value=\"EmailFrequency.EMAIL_SEND_ASAP\"\n\t\t\t\t\t:selected=\"settingBatchtime === EmailFrequency.EMAIL_SEND_ASAP\">\n\t\t\t\t\t{{ t('activity', 'As soon as possible') }}\n\t\t\t\t</option>\n\t\t\t\t<option\n\t\t\t\t\t:value=\"EmailFrequency.EMAIL_SEND_HOURLY\"\n\t\t\t\t\t:selected=\"settingBatchtime === EmailFrequency.EMAIL_SEND_HOURLY\">\n\t\t\t\t\t{{ t('activity', 'Hourly') }}\n\t\t\t\t</option>\n\t\t\t\t<option\n\t\t\t\t\t:value=\"EmailFrequency.EMAIL_SEND_DAILY\"\n\t\t\t\t\t:selected=\"settingBatchtime === EmailFrequency.EMAIL_SEND_DAILY\">\n\t\t\t\t\t{{ t('activity', 'Daily') }}\n\t\t\t\t</option>\n\t\t\t\t<option\n\t\t\t\t\t:value=\"EmailFrequency.EMAIL_SEND_WEEKLY\"\n\t\t\t\t\t:selected=\"settingBatchtime === EmailFrequency.EMAIL_SEND_WEEKLY\">\n\t\t\t\t\t{{ t('activity', 'Weekly') }}\n\t\t\t\t</option>\n\t\t\t</select>\n\t\t</p>\n\t</div>\n</template>\n\n<script>\nimport { t } from '@nextcloud/l10n'\nimport { mapActions, mapState } from 'vuex'\nimport EmailFrequency from '../models/EmailFrequency.js'\n\nexport default {\n\tname: 'EmailSettings',\n\n\tdata() {\n\t\treturn {\n\t\t\tEmailFrequency: EmailFrequency.EmailFrequency,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t...mapState([\n\t\t\t'emailEnabled',\n\t\t\t'isEmailSet',\n\t\t\t'settingBatchtime',\n\t\t]),\n\t},\n\n\tmethods: {\n\t\t...mapActions(['setSettingBatchtime']),\n\n\t\tt,\n\t},\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n.activity-frequency__label {\n\tmargin-top: 24px;\n\tdisplay: inline-block;\n}\n\n.notification-frequency__select {\n\tmargin-left: calc(var(--default-grid-baseline) * 2);\n}\n\n</style>\n","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<NcSettingsSection\n\t\t:name=\"t('activity', 'Activity')\"\n\t\t:description=\"settingDescription\">\n\t\t<ActivityGrid />\n\t\t<EmailSettings />\n\t</NcSettingsSection>\n</template>\n\n<script>\nimport { t } from '@nextcloud/l10n'\nimport { mapActions, mapState } from 'vuex'\nimport NcSettingsSection from '@nextcloud/vue/components/NcSettingsSection'\nimport ActivityGrid from '../components/ActivityGrid.vue'\nimport EmailSettings from '../components/EmailSettings.vue'\n\nexport default {\n\tname: 'UserSettings',\n\tcomponents: {\n\t\tNcSettingsSection,\n\t\tEmailSettings,\n\t\tActivityGrid,\n\t},\n\n\tcomputed: {\n\t\t...mapState({\n\t\t\temailEnabled: 'emailEnabled',\n\t\t}),\n\n\t\tsettingDescription() {\n\t\t\tif (this.emailEnabled) {\n\t\t\t\treturn t('activity', 'Choose for which activities you want to get an email or push notification.')\n\t\t\t} else {\n\t\t\t\treturn t('activity', 'Choose for which activities you want to get a push notification.')\n\t\t\t}\n\t\t},\n\t},\n\n\tmounted() {\n\t\tthis.setEndpoint({ endpoint: '/apps/extended_activity/settings' })\n\t},\n\n\tmethods: {\n\t\t...mapActions(['setEndpoint']),\n\n\t\tt,\n\t},\n}\n\n</script>\n","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { createApp } from 'vue'\nimport DailySummary from './views/DailySummary.vue'\nimport UserSettings from './views/UserSettings.vue'\nimport store from './store/settings-store.js'\n\nconst userSettingApp = createApp(UserSettings)\nuserSettingApp.use(store)\nuserSettingApp.mount('#activity-user-settings')\n\nconst digestSettingApp = createApp(DailySummary)\ndigestSettingApp.use(store)\ndigestSettingApp.mount('#activity-digest-user-settings')\n"],"names":["_sfc_main","t","_createBlock","_createVNode","_createElementBlock","_createElementVNode","_toDisplayString"],"mappings":"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"}