{"version":3,"mappings":";;;;;;AAAA,MAAe;ACaf,IAAI,kBAAoC;AACxC,IAAI,iBAAsC;AAC1C,IAAI,sBAAuE;AAE3E,MAAM,cAAc,IAAI,IAAI,MAAM,QAAQ,IAAI;AAAA,EAC7C,IAAI;AAAA,EACJ,MAAMA,UAAE,YAAY,UAAU;AAAA,EAC9B,SAASC;AAAAA,EAET,MAAM,MAAM,IAAI,UAAU;AAEzB,QAAI,oBAAoB,MAAM;AAC7B,YAAM,EAAE,SAAS,gBAAgB,MAAM;AAAA,yBAAAC,aAAA,iBAAO,kCAAyB;AAAA,0BAAAA,aAAA;AAAA;AACrD;AAAA;AAGnB,QAAI,gBAAgB;AACnB,qBAAe,QAAQ;AAAA;AAExB,qBAAiB,UAAU,eAAe;AAEpB,yCAAe,MAAM,EAAE;AAC7C,wBAAoB,OAAO,QAAQ;AAAA,EACpC;AAAA,EACA,OAAO,UAAU;AAChB,wBAAqB,OAAO,QAAQ;AAAA,EACrC;AAAA,EACA,UAAU;AACT,oBAAgB,QAAQ;AACP;AAAA;AAEnB,CAAC;AAED,OAAO,iBAAiB,oBAAoB,iBAAiB;AAC5D,MAAI,IAAI,SAAS,IAAI,MAAM,SAAS;AAC/B,cAAM,QAAQ,YAAY,WAAW;AACzC,UAAM,EAAE,SAAS,gBAAgB;AAAA,uBAAAA,aAAA,UAAM,OAAO,kCAAyB;AAAA,wBAAAA,aAAA;AAAA;AACrD;AAAA;AAEpB,CAAC","names":["t","LightningBolt","ActivityTab"],"ignoreList":[0],"sources":["../node_modules/@mdi/svg/svg/lightning-bolt.svg?raw","../src/sidebar.ts"],"sourcesContent":["export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"mdi-lightning-bolt\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M11 15H6L13 1V9H18L11 23V15Z\\\" /></svg>\"","/**\n * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport type { App, Component, ComponentPublicInstance } from 'vue'\nimport type { ActivityTabType } from './views/ActivityTab.vue'\n\nimport LightningBolt from '@mdi/svg/svg/lightning-bolt.svg?raw'\nimport { translate as t } from '@nextcloud/l10n'\nimport { createApp } from 'vue'\n\n// Init Activity tab component\nlet LazyActivityTab: Component | null = null\nlet activityTabApp: App<Element> | null = null\nlet activityTabInstance: ComponentPublicInstance<ActivityTabType> | null = null\n\nconst activityTab = new OCA.Files.Sidebar.Tab({\n\tid: 'extended_activity',\n\tname: t('activity', 'Activity'),\n\ticonSvg: LightningBolt,\n\n\tasync mount(el, fileInfo) {\n\t\t// only load if needed\n\t\tif (LazyActivityTab === null) {\n\t\t\tconst { default: ActivityTab } = await import('./views/ActivityTab.vue')\n\t\t\tLazyActivityTab = ActivityTab\n\t\t}\n\t\t// destroy previous instance if available\n\t\tif (activityTabApp) {\n\t\t\tactivityTabApp.unmount()\n\t\t}\n\t\tactivityTabApp = createApp(LazyActivityTab)\n\t\t// No need to await this, we will show a loading indicator instead\n\t\tactivityTabInstance = activityTabApp.mount(el)\n\t\tactivityTabInstance.update(fileInfo)\n\t},\n\tupdate(fileInfo) {\n\t\tactivityTabInstance!.update(fileInfo)\n\t},\n\tdestroy() {\n\t\tactivityTabApp?.unmount()\n\t\tactivityTabApp = null\n\t},\n})\n\nwindow.addEventListener('DOMContentLoaded', async function() {\n\tif (OCA.Files && OCA.Files.Sidebar) {\n\t\tOCA.Files.Sidebar.registerTab(activityTab)\n\t\tconst { default: ActivityTab } = await import('./views/ActivityTab.vue')\n\t\tLazyActivityTab = ActivityTab\n\t}\n})\n"],"file":"js/extended_activity-sidebar.mjs"}